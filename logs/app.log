2025-04-19 09:20:28,484 - __main__ - INFO - Logging configured
2025-04-19 09:20:28,484 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:20:28,484 - __main__ - INFO - Using device: cuda
2025-04-19 09:20:41,619 - __main__ - INFO - Logging configured
2025-04-19 09:20:41,619 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:20:41,620 - __main__ - INFO - Using device: cuda
2025-04-19 09:20:41,699 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 09:20:52,797 - document_processor.utils.validation - ERROR - Unsupported file type: C:\Users\ahmed\AppData\Local\Temp\tmpqhg7ebvn
2025-04-19 09:20:52,798 - document_processor.web.views - ERROR - File upload error: Unsupported file type. Please upload one of the following: .pdf, .jpg, .jpeg, .png, .tiff
2025-04-19 09:21:05,838 - document_processor.utils.validation - ERROR - Unsupported file type: C:\Users\ahmed\AppData\Local\Temp\tmpruen2fow
2025-04-19 09:21:05,839 - document_processor.web.views - ERROR - File upload error: Unsupported file type. Please upload one of the following: .pdf, .jpg, .jpeg, .png, .tiff
2025-04-19 09:21:18,375 - document_processor.utils.validation - ERROR - Unsupported file type: C:\Users\ahmed\AppData\Local\Temp\tmpcpds5f68
2025-04-19 09:21:18,375 - document_processor.web.views - ERROR - File upload error: Unsupported file type. Please upload one of the following: .pdf, .jpg, .jpeg, .png, .tiff
2025-04-19 09:26:04,888 - __main__ - INFO - Logging configured
2025-04-19 09:26:04,889 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:26:04,890 - __main__ - INFO - Using device: cuda
2025-04-19 09:26:26,632 - __main__ - INFO - Logging configured
2025-04-19 09:26:26,633 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:26:26,633 - __main__ - INFO - Using device: cuda
2025-04-19 09:26:26,801 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 09:26:31,631 - document_processor.utils.validation - ERROR - Unsupported file type: C:\Users\ahmed\AppData\Local\Temp\tmpamky7jwb
2025-04-19 09:26:31,633 - document_processor.web.views - ERROR - File upload error: Unsupported file type. Please upload one of the following: .pdf, .jpg, .jpeg, .png, .tiff
2025-04-19 09:28:32,230 - __main__ - INFO - Logging configured
2025-04-19 09:28:32,231 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:28:32,231 - __main__ - INFO - Using device: cuda
2025-04-19 09:28:53,706 - __main__ - INFO - Logging configured
2025-04-19 09:28:53,707 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:28:53,708 - __main__ - INFO - Using device: cuda
2025-04-19 09:28:53,891 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 09:28:59,298 - document_processor.utils.validation - ERROR - Unsupported file type: C:\Users\ahmed\AppData\Local\Temp\tmp18awltsp
2025-04-19 09:28:59,300 - document_processor.web.views - ERROR - File upload error: Unsupported file type. Please upload one of the following: .pdf, .jpg, .jpeg, .png, .tiff
2025-04-19 09:29:55,109 - __main__ - INFO - Logging configured
2025-04-19 09:29:55,111 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:29:55,111 - __main__ - INFO - Using device: cuda
2025-04-19 09:30:21,721 - __main__ - INFO - Logging configured
2025-04-19 09:30:21,723 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:30:21,723 - __main__ - INFO - Using device: cuda
2025-04-19 09:30:21,851 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 09:30:29,767 - document_processor.utils.validation - ERROR - Unsupported file type: C:\Users\ahmed\AppData\Local\Temp\tmpopcqy4n_
2025-04-19 09:30:29,768 - document_processor.web.views - ERROR - File upload error: Unsupported file type. Please upload one of the following: .pdf, .jpg, .jpeg, .png, .tiff
2025-04-19 09:34:08,326 - __main__ - INFO - Logging configured
2025-04-19 09:34:08,327 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:34:08,329 - __main__ - INFO - Using device: cuda
2025-04-19 09:34:37,189 - __main__ - INFO - Logging configured
2025-04-19 09:34:37,191 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:34:37,191 - __main__ - INFO - Using device: cuda
2025-04-19 09:34:37,300 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 09:34:41,707 - document_processor.utils.validation - ERROR - Unsupported file type: C:\Users\ahmed\AppData\Local\Temp\tmppif0k4g8
2025-04-19 09:34:41,708 - document_processor.web.views - ERROR - File upload error: Unsupported file type. Please upload one of the following: .pdf, .jpg, .jpeg, .png, .tiff
2025-04-19 09:38:36,257 - __main__ - INFO - Logging configured
2025-04-19 09:38:36,257 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:38:36,257 - __main__ - INFO - Using device: cuda
2025-04-19 09:38:50,462 - __main__ - INFO - Logging configured
2025-04-19 09:38:50,463 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:38:50,463 - __main__ - INFO - Using device: cuda
2025-04-19 09:38:50,539 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 09:41:22,150 - document_processor.utils.validation - ERROR - Unsupported file type: C:\Users\ahmed\AppData\Local\Temp\tmp4tqeuxd2
2025-04-19 09:41:22,150 - document_processor.web.views - ERROR - File upload error: Unsupported file type. Please upload one of the following: .pdf, .jpg, .jpeg, .png, .tiff
2025-04-19 09:47:38,470 - __main__ - INFO - Logging configured
2025-04-19 09:47:38,470 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:47:38,471 - __main__ - INFO - Using device: cuda
2025-04-19 09:47:52,781 - __main__ - INFO - Logging configured
2025-04-19 09:47:52,782 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:47:52,782 - __main__ - INFO - Using device: cuda
2025-04-19 09:47:52,858 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 09:47:58,188 - document_processor.web.views - INFO - Upload request received
2025-04-19 09:47:58,190 - document_processor.web.views - INFO - File object received: w2.png
2025-04-19 09:47:58,191 - document_processor.web.views - INFO - Original file extension: .png
2025-04-19 09:47:58,191 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:47:58,191 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:47:58,192 - document_processor.web.views - INFO - Secure filename: w2.png
2025-04-19 09:47:58,192 - document_processor.web.views - INFO - Extension after secure_filename: .png
2025-04-19 09:47:58,193 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 09:47:58,193 - document_processor.web.views - INFO - Full file path: uploads\w2.png
2025-04-19 09:47:58,201 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 09:47:58,201 - document_processor.web.views - INFO - Saved file exists: True, size: 192512, extension: .png
2025-04-19 09:47:58,201 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 09:47:58,201 - document_processor.web.views - INFO - Starting document processing for uploads\w2.png
2025-04-19 09:47:58,202 - document_processor.core.processor_service - INFO - Processing document: uploads\w2.png
2025-04-19 09:47:58,202 - document_processor.core.processor_service - INFO - File exists: True, size: 192512, extension: .png
2025-04-19 09:47:58,202 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:47:58,202 - document_processor.core.processor_service - INFO - Generated session ID: f9614302-54b3-4ec0-9ea9-5888004b0143
2025-04-19 09:47:58,207 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 09:48:11,460 - document_processor.core.processor_service - INFO - Started async processing with session ID: f9614302-54b3-4ec0-9ea9-5888004b0143
2025-04-19 09:48:11,460 - document_processor.web.views - INFO - Processing started with session ID: f9614302-54b3-4ec0-9ea9-5888004b0143
2025-04-19 09:49:48,128 - document_processor.web.views - INFO - Upload request received
2025-04-19 09:49:48,130 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 09:49:48,130 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 09:49:48,130 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:49:48,130 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:49:48,130 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 09:49:48,130 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 09:49:48,131 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 09:49:48,131 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 09:49:48,132 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 09:49:48,132 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 09:49:48,132 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 09:49:48,132 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 09:49:48,133 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 09:49:48,133 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 09:49:48,133 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:49:48,133 - document_processor.core.processor_service - INFO - Generated session ID: 1e815df3-9b14-46b0-bc85-5f00d696aa7f
2025-04-19 09:49:48,143 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 09:50:15,218 - document_processor.core.processor_service - INFO - Started async processing with session ID: 1e815df3-9b14-46b0-bc85-5f00d696aa7f
2025-04-19 09:50:15,219 - document_processor.web.views - INFO - Processing started with session ID: 1e815df3-9b14-46b0-bc85-5f00d696aa7f
2025-04-19 09:51:23,075 - __main__ - INFO - Logging configured
2025-04-19 09:51:23,076 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:51:23,077 - __main__ - INFO - Using device: cuda
2025-04-19 09:51:53,807 - __main__ - INFO - Logging configured
2025-04-19 09:51:53,809 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:51:53,809 - __main__ - INFO - Using device: cuda
2025-04-19 09:51:53,955 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 09:52:01,949 - document_processor.web.views - INFO - Upload request received
2025-04-19 09:52:01,961 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 09:52:01,962 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 09:52:01,962 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:52:01,962 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:52:01,964 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 09:52:01,964 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 09:52:01,964 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 09:52:01,964 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 09:52:01,966 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 09:52:01,966 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 09:52:01,966 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 09:52:01,966 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 09:52:01,968 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 09:52:01,968 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 09:52:01,969 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:52:01,970 - document_processor.core.processor_service - INFO - Generated session ID: a2f86d4a-f5ea-45b6-bd50-199123bc70f6
2025-04-19 09:52:01,979 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 09:52:33,144 - document_processor.core.processor_service - INFO - Started async processing with session ID: a2f86d4a-f5ea-45b6-bd50-199123bc70f6
2025-04-19 09:52:33,145 - document_processor.web.views - INFO - Processing started with session ID: a2f86d4a-f5ea-45b6-bd50-199123bc70f6
2025-04-19 09:57:01,752 - __main__ - INFO - Logging configured
2025-04-19 09:57:01,753 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:57:01,754 - __main__ - INFO - Using device: cuda
2025-04-19 09:57:33,187 - __main__ - INFO - Logging configured
2025-04-19 09:57:33,190 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:57:33,190 - __main__ - INFO - Using device: cuda
2025-04-19 09:57:33,319 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 09:57:39,232 - document_processor.web.views - INFO - Upload request received
2025-04-19 09:57:39,241 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 09:57:39,241 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 09:57:39,242 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:57:39,242 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:57:39,243 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 09:57:39,243 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 09:57:39,244 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 09:57:39,244 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 09:57:39,245 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 09:57:39,246 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 09:57:39,246 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 09:57:39,246 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 09:57:39,246 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 09:57:39,248 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 09:57:39,248 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:57:39,249 - document_processor.core.processor_service - INFO - Generated session ID: ec9f71c3-ab45-458c-afff-5b7cd3dde926
2025-04-19 09:57:39,257 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 09:58:05,609 - document_processor.core.processor_service - INFO - Started async processing with session ID: ec9f71c3-ab45-458c-afff-5b7cd3dde926
2025-04-19 09:58:05,610 - document_processor.web.views - INFO - Processing started with session ID: ec9f71c3-ab45-458c-afff-5b7cd3dde926
2025-04-19 09:59:02,072 - __main__ - INFO - Logging configured
2025-04-19 09:59:02,074 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:59:02,075 - __main__ - INFO - Using device: cuda
2025-04-19 09:59:28,704 - __main__ - INFO - Logging configured
2025-04-19 09:59:28,706 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 09:59:28,707 - __main__ - INFO - Using device: cuda
2025-04-19 09:59:28,812 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 09:59:33,688 - document_processor.web.views - INFO - Upload request received
2025-04-19 09:59:33,696 - document_processor.web.views - INFO - File object received: w2.png
2025-04-19 09:59:33,696 - document_processor.web.views - INFO - Original file extension: .png
2025-04-19 09:59:33,697 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:59:33,697 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:59:33,697 - document_processor.web.views - INFO - Secure filename: w2.png
2025-04-19 09:59:33,699 - document_processor.web.views - INFO - Extension after secure_filename: .png
2025-04-19 09:59:33,699 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 09:59:33,700 - document_processor.web.views - INFO - Full file path: uploads\w2.png
2025-04-19 09:59:33,700 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 09:59:33,701 - document_processor.web.views - INFO - Saved file exists: True, size: 192512, extension: .png
2025-04-19 09:59:33,701 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 09:59:33,702 - document_processor.web.views - INFO - Starting document processing for uploads\w2.png
2025-04-19 09:59:33,702 - document_processor.core.processor_service - INFO - Processing document: uploads\w2.png
2025-04-19 09:59:33,702 - document_processor.core.processor_service - INFO - File exists: True, size: 192512, extension: .png
2025-04-19 09:59:33,703 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 09:59:33,703 - document_processor.core.processor_service - INFO - Generated session ID: cc2a532a-e79d-43b2-986a-b2e36d9ef10b
2025-04-19 09:59:33,712 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 10:00:00,069 - document_processor.core.processor_service - INFO - Started async processing with session ID: cc2a532a-e79d-43b2-986a-b2e36d9ef10b
2025-04-19 10:00:00,070 - document_processor.web.views - INFO - Processing started with session ID: cc2a532a-e79d-43b2-986a-b2e36d9ef10b
2025-04-19 10:03:11,962 - __main__ - INFO - Logging configured
2025-04-19 10:03:11,962 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:03:11,962 - __main__ - INFO - Using device: cuda
2025-04-19 10:03:25,095 - __main__ - INFO - Logging configured
2025-04-19 10:03:25,095 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:03:25,096 - __main__ - INFO - Using device: cuda
2025-04-19 10:03:25,185 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 10:03:29,730 - document_processor.web.views - INFO - Upload request received
2025-04-19 10:03:29,732 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:03:29,732 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 10:03:29,732 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:03:29,732 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:03:29,732 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:03:29,732 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 10:03:29,732 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 10:03:29,732 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:03:29,733 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 10:03:29,733 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 10:03:29,733 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 10:03:29,733 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:03:29,734 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:03:29,734 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 10:03:29,734 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:03:29,734 - document_processor.core.processor_service - INFO - Generated session ID: b819823d-dc2c-4913-9212-b22053706505
2025-04-19 10:03:29,742 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 10:03:42,392 - document_processor.core.processor_service - INFO - Started async processing with session ID: b819823d-dc2c-4913-9212-b22053706505
2025-04-19 10:03:42,393 - document_processor.web.views - INFO - Processing started with session ID: b819823d-dc2c-4913-9212-b22053706505
2025-04-19 10:05:51,011 - __main__ - INFO - Logging configured
2025-04-19 10:05:51,011 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:05:51,011 - __main__ - INFO - Using device: cuda
2025-04-19 10:06:06,479 - __main__ - INFO - Logging configured
2025-04-19 10:06:06,479 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:06:06,479 - __main__ - INFO - Using device: cuda
2025-04-19 10:06:06,546 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 10:06:11,902 - document_processor.web.views - INFO - Upload request received
2025-04-19 10:06:11,904 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:06:11,904 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 10:06:11,904 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:06:11,904 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:06:11,904 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:06:11,905 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 10:06:11,905 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 10:06:11,905 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:06:11,905 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 10:06:11,906 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 10:06:11,906 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 10:06:11,906 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:06:11,906 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:06:11,906 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 10:06:11,906 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:06:11,906 - document_processor.core.processor_service - INFO - Generated session ID: ff42a66e-c30f-4730-b333-f80a51a39f33
2025-04-19 10:06:11,913 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 10:06:34,916 - document_processor.core.processor_service - INFO - Started async processing with session ID: ff42a66e-c30f-4730-b333-f80a51a39f33
2025-04-19 10:06:34,917 - document_processor.web.views - INFO - Processing started with session ID: ff42a66e-c30f-4730-b333-f80a51a39f33
2025-04-19 10:07:58,967 - __main__ - INFO - Logging configured
2025-04-19 10:07:58,968 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:07:58,968 - __main__ - INFO - Using device: cuda
2025-04-19 10:07:59,037 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 10:08:08,530 - document_processor.web.views - INFO - Upload request received
2025-04-19 10:08:08,533 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:08:08,533 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 10:08:08,533 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:08:08,534 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:08:08,534 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:08:08,534 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 10:08:08,534 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 10:08:08,534 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:08:08,535 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 10:08:08,535 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 10:08:08,537 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 10:08:08,537 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:08:08,537 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:08:08,537 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 10:08:08,537 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:08:08,538 - document_processor.core.processor_service - INFO - Generated session ID: 92ce6a2d-8dae-41db-afcf-957cd3109221
2025-04-19 10:08:08,546 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 10:08:21,855 - document_processor.core.processor_service - INFO - Started async processing with session ID: 92ce6a2d-8dae-41db-afcf-957cd3109221
2025-04-19 10:08:21,855 - document_processor.web.views - INFO - Processing started with session ID: 92ce6a2d-8dae-41db-afcf-957cd3109221
2025-04-19 10:09:28,153 - __main__ - INFO - Logging configured
2025-04-19 10:09:28,153 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:09:28,154 - __main__ - INFO - Using device: cuda
2025-04-19 10:09:40,607 - __main__ - INFO - Logging configured
2025-04-19 10:09:40,608 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:09:40,608 - __main__ - INFO - Using device: cuda
2025-04-19 10:09:40,681 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 10:09:46,287 - document_processor.web.views - INFO - Upload request received
2025-04-19 10:09:46,289 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:09:46,290 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 10:09:46,290 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:09:46,290 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:09:46,291 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:09:46,291 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 10:09:46,291 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 10:09:46,292 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:09:46,293 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 10:09:46,293 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 10:09:46,293 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 10:09:46,294 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:09:46,294 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:09:46,294 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 10:09:46,294 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:09:46,295 - document_processor.core.processor_service - INFO - Generated session ID: 054ee047-7c5a-4470-aa7a-604115ced61f
2025-04-19 10:09:46,303 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 10:10:06,482 - document_processor.core.processor_service - INFO - Started async processing with session ID: 054ee047-7c5a-4470-aa7a-604115ced61f
2025-04-19 10:10:06,482 - document_processor.web.views - INFO - Processing started with session ID: 054ee047-7c5a-4470-aa7a-604115ced61f
2025-04-19 10:10:26,057 - __main__ - INFO - Logging configured
2025-04-19 10:10:26,058 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:10:26,059 - __main__ - INFO - Using device: cuda
2025-04-19 10:10:26,129 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 10:10:31,528 - document_processor.web.views - INFO - Upload request received
2025-04-19 10:10:31,530 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:10:31,531 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 10:10:31,531 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:10:31,531 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:10:31,532 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:10:31,532 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 10:10:31,532 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 10:10:31,532 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:10:31,533 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 10:10:31,534 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 10:10:31,534 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 10:10:31,534 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:10:31,534 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:10:31,534 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 10:10:31,535 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:10:31,535 - document_processor.core.processor_service - INFO - Generated session ID: a2038f31-1e31-4be0-b890-6a229f700e75
2025-04-19 10:10:31,543 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 10:10:49,139 - document_processor.core.processor_service - INFO - Started async processing with session ID: a2038f31-1e31-4be0-b890-6a229f700e75
2025-04-19 10:10:49,139 - document_processor.web.views - INFO - Processing started with session ID: a2038f31-1e31-4be0-b890-6a229f700e75
2025-04-19 10:13:36,767 - __main__ - INFO - Logging configured
2025-04-19 10:13:36,768 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:13:36,769 - __main__ - INFO - Using device: cuda
2025-04-19 10:14:04,062 - __main__ - INFO - Logging configured
2025-04-19 10:14:04,065 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:14:04,065 - __main__ - INFO - Using device: cuda
2025-04-19 10:14:04,180 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 10:14:08,961 - document_processor.web.views - INFO - Upload request received
2025-04-19 10:14:08,969 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:14:08,970 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 10:14:08,970 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:14:08,970 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:14:08,971 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:14:08,971 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 10:14:08,972 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 10:14:08,972 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:14:08,973 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 10:14:08,973 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 10:14:08,975 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 10:14:08,975 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:14:08,976 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:14:08,977 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 10:14:08,977 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:14:08,978 - document_processor.core.processor_service - INFO - Generated session ID: e78ec33a-45a9-46f3-8ef9-c512dccd7fc6
2025-04-19 10:14:08,987 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 10:14:37,921 - document_processor.core.processor_service - INFO - Started async processing with session ID: e78ec33a-45a9-46f3-8ef9-c512dccd7fc6
2025-04-19 10:14:37,922 - document_processor.web.views - INFO - Processing started with session ID: e78ec33a-45a9-46f3-8ef9-c512dccd7fc6
2025-04-19 10:17:31,202 - __main__ - INFO - Logging configured
2025-04-19 10:17:31,203 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:17:31,204 - __main__ - INFO - Using device: cuda
2025-04-19 10:18:01,364 - __main__ - INFO - Logging configured
2025-04-19 10:18:01,366 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:18:01,366 - __main__ - INFO - Using device: cuda
2025-04-19 10:18:01,477 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 10:18:06,121 - document_processor.web.views - INFO - Upload request received
2025-04-19 10:18:06,130 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:18:06,130 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 10:18:06,131 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:18:06,131 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:18:06,132 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:18:06,132 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 10:18:06,132 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 10:18:06,133 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:18:06,133 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 10:18:06,134 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 10:18:06,134 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 10:18:06,135 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:18:06,135 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:18:06,135 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 10:18:06,136 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:18:06,136 - document_processor.core.processor_service - INFO - Generated session ID: 468d00ac-5bc4-4a52-b8ab-0b283f3c9b1b
2025-04-19 10:18:06,144 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 10:18:06,146 - document_processor.core.processor_service - INFO - Started async processing with session ID: 468d00ac-5bc4-4a52-b8ab-0b283f3c9b1b
2025-04-19 10:18:06,147 - document_processor.web.views - INFO - Processing started with session ID: 468d00ac-5bc4-4a52-b8ab-0b283f3c9b1b
2025-04-19 10:18:06,147 - document_processor.core.processor_service - INFO - Starting async processing for file: uploads\K-1-Web-Example-1742412925169.pdf, session: 468d00ac-5bc4-4a52-b8ab-0b283f3c9b1b
2025-04-19 10:18:06,149 - document_processor.core.processor_service - ERROR - Error processing document uploads\K-1-Web-Example-1742412925169.pdf: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-04-19 10:18:06,151 - document_processor.core.processor_service - ERROR - Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\dhap\major 2\document_processor\core\processor_service.py", line 135, in _process_document_async
    run_with_context = current_app.config['run_with_context']
                       ^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.

2025-04-19 10:18:06,152 - document_processor.core.processor_service - ERROR - Failed to save error status: cannot access local variable 'run_with_context' where it is not associated with a value
2025-04-19 10:18:06,154 - document_processor.core.processor_service - ERROR - Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\dhap\major 2\document_processor\core\processor_service.py", line 135, in _process_document_async
    run_with_context = current_app.config['run_with_context']
                       ^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\dhap\major 2\document_processor\core\processor_service.py", line 272, in _process_document_async
    run_with_context(save_processing_results, session_id, error_result)
    ^^^^^^^^^^^^^^^^
UnboundLocalError: cannot access local variable 'run_with_context' where it is not associated with a value

2025-04-19 10:20:22,802 - __main__ - INFO - Logging configured
2025-04-19 10:20:22,803 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:20:22,804 - __main__ - INFO - Using device: cuda
2025-04-19 10:20:56,587 - __main__ - INFO - Logging configured
2025-04-19 10:20:56,588 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:20:56,589 - __main__ - INFO - Using device: cuda
2025-04-19 10:20:56,701 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 10:21:03,930 - document_processor.web.views - INFO - Upload request received
2025-04-19 10:21:03,943 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:21:03,943 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 10:21:03,944 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:21:03,944 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:21:03,945 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:21:03,946 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 10:21:03,946 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 10:21:03,946 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:21:03,948 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 10:21:03,948 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 10:21:03,949 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 10:21:03,949 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:21:03,950 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:21:03,950 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 10:21:03,951 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:21:03,951 - document_processor.core.processor_service - INFO - Generated session ID: 5a89d37d-6e03-46cb-a91a-29b7b1ec30ba
2025-04-19 10:21:03,960 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 10:21:03,962 - document_processor.core.processor_service - INFO - Started async processing with session ID: 5a89d37d-6e03-46cb-a91a-29b7b1ec30ba
2025-04-19 10:21:03,963 - document_processor.web.views - INFO - Processing started with session ID: 5a89d37d-6e03-46cb-a91a-29b7b1ec30ba
2025-04-19 10:21:03,963 - document_processor.core.processor_service - INFO - Starting async processing for file: uploads\K-1-Web-Example-1742412925169.pdf, session: 5a89d37d-6e03-46cb-a91a-29b7b1ec30ba
2025-04-19 10:21:03,966 - document_processor.core.processor_service - ERROR - Error processing document uploads\K-1-Web-Example-1742412925169.pdf: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-04-19 10:21:03,968 - document_processor.core.processor_service - ERROR - Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\dhap\major 2\document_processor\core\processor_service.py", line 135, in _process_document_async
    app = current_app._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.

2025-04-19 10:21:03,969 - document_processor.core.processor_service - ERROR - Failed to save error status: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.
2025-04-19 10:21:03,971 - document_processor.core.processor_service - ERROR - Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\dhap\major 2\document_processor\core\processor_service.py", line 273, in _process_document_async
    app = current_app.config.get('_app_instance')
          ^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\local.py", line 318, in __get__
    obj = instance._get_current_object()
          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\local.py", line 519, in _get_current_object
    raise RuntimeError(unbound_message) from None
RuntimeError: Working outside of application context.

This typically means that you attempted to use functionality that needed
the current application. To solve this, set up an application context
with app.app_context(). See the documentation for more information.

2025-04-19 10:23:20,986 - __main__ - INFO - Logging configured
2025-04-19 10:23:20,988 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:23:20,988 - __main__ - INFO - Using device: cuda
2025-04-19 10:24:03,083 - __main__ - INFO - Logging configured
2025-04-19 10:24:03,086 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 10:24:03,086 - __main__ - INFO - Using device: cuda
2025-04-19 10:24:03,199 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 10:24:11,019 - document_processor.web.views - INFO - Upload request received
2025-04-19 10:24:11,027 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:24:11,028 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 10:24:11,028 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:24:11,028 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:24:11,029 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 10:24:11,029 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 10:24:11,029 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 10:24:11,030 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:24:11,031 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 10:24:11,031 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 10:24:11,032 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 10:24:11,032 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:24:11,033 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 10:24:11,033 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 10:24:11,033 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:24:11,033 - document_processor.core.processor_service - INFO - Generated session ID: 2f6341b2-fe0e-4c32-81a3-c669d1dce51c
2025-04-19 10:24:11,041 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 10:24:11,043 - document_processor.core.processor_service - INFO - Started async processing with session ID: 2f6341b2-fe0e-4c32-81a3-c669d1dce51c
2025-04-19 10:24:11,044 - document_processor.core.processor_service - INFO - Starting async processing for file: uploads\K-1-Web-Example-1742412925169.pdf, session: 2f6341b2-fe0e-4c32-81a3-c669d1dce51c
2025-04-19 10:24:11,044 - document_processor.web.views - INFO - Processing started with session ID: 2f6341b2-fe0e-4c32-81a3-c669d1dce51c
2025-04-19 10:24:11,046 - document_processor.core.processor_service - ERROR - Error processing document uploads\K-1-Web-Example-1742412925169.pdf: Error binding parameter 2: type 'dict' is not supported
2025-04-19 10:24:11,048 - document_processor.core.processor_service - ERROR - Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\dhap\major 2\document_processor\core\processor_service.py", line 140, in _process_document_async
    run_with_context(save_processing_results, session_id, {"status": "processing"})
  File "C:\Users\ahmed\Desktop\dhap\major 2\main.py", line 125, in run_with_context
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\dhap\major 2\document_processor\db\database.py", line 58, in save_processing_results
    cursor.execute("INSERT INTO processing_results (session_id, file_path) VALUES (?, ?)",
sqlite3.ProgrammingError: Error binding parameter 2: type 'dict' is not supported

2025-04-19 10:24:21,623 - document_processor.web.views - INFO - Upload request received
2025-04-19 10:24:21,631 - document_processor.web.views - INFO - File object received: w2.png
2025-04-19 10:24:21,631 - document_processor.web.views - INFO - Original file extension: .png
2025-04-19 10:24:21,632 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:24:21,632 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:24:21,632 - document_processor.web.views - INFO - Secure filename: w2.png
2025-04-19 10:24:21,634 - document_processor.web.views - INFO - Extension after secure_filename: .png
2025-04-19 10:24:21,634 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 10:24:21,634 - document_processor.web.views - INFO - Full file path: uploads\w2.png
2025-04-19 10:24:21,635 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 10:24:21,635 - document_processor.web.views - INFO - Saved file exists: True, size: 192512, extension: .png
2025-04-19 10:24:21,636 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 10:24:21,636 - document_processor.web.views - INFO - Starting document processing for uploads\w2.png
2025-04-19 10:24:21,636 - document_processor.core.processor_service - INFO - Processing document: uploads\w2.png
2025-04-19 10:24:21,637 - document_processor.core.processor_service - INFO - File exists: True, size: 192512, extension: .png
2025-04-19 10:24:21,637 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 10:24:21,638 - document_processor.core.processor_service - INFO - Generated session ID: 7160800a-fdc4-4366-96cc-a26393ff11a3
2025-04-19 10:24:21,647 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 10:24:21,649 - document_processor.core.processor_service - INFO - Started async processing with session ID: 7160800a-fdc4-4366-96cc-a26393ff11a3
2025-04-19 10:24:21,649 - document_processor.core.processor_service - INFO - Starting async processing for file: uploads\w2.png, session: 7160800a-fdc4-4366-96cc-a26393ff11a3
2025-04-19 10:24:21,649 - document_processor.web.views - INFO - Processing started with session ID: 7160800a-fdc4-4366-96cc-a26393ff11a3
2025-04-19 10:24:21,651 - document_processor.core.processor_service - ERROR - Error processing document uploads\w2.png: Error binding parameter 2: type 'dict' is not supported
2025-04-19 10:24:21,653 - document_processor.core.processor_service - ERROR - Traceback (most recent call last):
  File "C:\Users\ahmed\Desktop\dhap\major 2\document_processor\core\processor_service.py", line 140, in _process_document_async
    run_with_context(save_processing_results, session_id, {"status": "processing"})
  File "C:\Users\ahmed\Desktop\dhap\major 2\main.py", line 125, in run_with_context
    return func(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\dhap\major 2\document_processor\db\database.py", line 58, in save_processing_results
    cursor.execute("INSERT INTO processing_results (session_id, file_path) VALUES (?, ?)",
sqlite3.ProgrammingError: Error binding parameter 2: type 'dict' is not supported

2025-04-19 17:06:39,288 - __main__ - INFO - Logging configured
2025-04-19 17:06:39,288 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 17:06:39,289 - __main__ - INFO - Using device: cuda
2025-04-19 17:06:51,432 - __main__ - INFO - Logging configured
2025-04-19 17:06:51,432 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-19 17:06:51,432 - __main__ - INFO - Using device: cuda
2025-04-19 17:06:51,520 - werkzeug - WARNING -  * Debugger is active!
2025-04-19 17:06:56,635 - document_processor.web.views - INFO - Upload request received
2025-04-19 17:06:56,637 - document_processor.web.views - INFO - File object received: K-1-Web-Example-1742412925169.pdf
2025-04-19 17:06:56,638 - document_processor.web.views - INFO - Original file extension: .pdf
2025-04-19 17:06:56,638 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 17:06:56,638 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 17:06:56,639 - document_processor.web.views - INFO - Secure filename: K-1-Web-Example-1742412925169.pdf
2025-04-19 17:06:56,639 - document_processor.web.views - INFO - Extension after secure_filename: .pdf
2025-04-19 17:06:56,639 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 17:06:56,640 - document_processor.web.views - INFO - Full file path: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 17:06:56,641 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 17:06:56,641 - document_processor.web.views - INFO - Saved file exists: True, size: 259427, extension: .pdf
2025-04-19 17:06:56,641 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 17:06:56,641 - document_processor.web.views - INFO - Starting document processing for uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 17:06:56,641 - document_processor.core.processor_service - INFO - Processing document: uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 17:06:56,643 - document_processor.core.processor_service - INFO - File exists: True, size: 259427, extension: .pdf
2025-04-19 17:06:56,643 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 17:06:56,643 - document_processor.core.processor_service - INFO - Generated session ID: 468a5a09-57c0-4902-a743-3c7fa3a59089
2025-04-19 17:06:56,648 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 17:06:56,649 - document_processor.core.processor_service - INFO - Starting async processing for file: uploads\K-1-Web-Example-1742412925169.pdf, session: 468a5a09-57c0-4902-a743-3c7fa3a59089
2025-04-19 17:06:56,650 - document_processor.core.processor_service - INFO - Started async processing with session ID: 468a5a09-57c0-4902-a743-3c7fa3a59089 in thread
2025-04-19 17:06:56,650 - document_processor.core.processor_service - INFO - Extracting content from uploads\K-1-Web-Example-1742412925169.pdf
2025-04-19 17:06:56,650 - document_processor.web.views - INFO - Processing started with session ID: 468a5a09-57c0-4902-a743-3c7fa3a59089
2025-04-19 17:06:59,716 - document_processor.core.processor_service - INFO - Content extracted. Text length: 17458, Tables: 7
2025-04-19 17:06:59,716 - document_processor.core.processor_service - INFO - Classifying document
2025-04-19 17:06:59,746 - document_processor.core.classification.classifier - INFO - Document classified as 'K1 (Schedule K-1)' with confidence 0.42
2025-04-19 17:06:59,747 - document_processor.core.processor_service - INFO - Document classified as K1 (Schedule K-1) with confidence 0.42423611879348755
2025-04-19 17:06:59,747 - document_processor.core.processor_service - INFO - Extracting partnership details
2025-04-19 17:07:00,644 - document_processor.core.processor_service - INFO - Partnership details extracted: PartnershipDetails(name='TX', address='DALLAS', ein='81-4644966', recipient_name='BRYAN STREET', recipient_address='DALLAS')
2025-04-19 17:07:00,645 - document_processor.core.processor_service - INFO - Extracting financial information
2025-04-19 17:07:00,646 - document_processor.core.processor_service - INFO - Financial information extracted
2025-04-19 17:07:00,646 - document_processor.core.processor_service - INFO - Extracting important dates
2025-04-19 17:07:01,276 - document_processor.core.processor_service - INFO - Extracted 0 important dates
2025-04-19 17:07:01,276 - document_processor.core.processor_service - INFO - Looking up investment for TX
2025-04-19 17:07:01,277 - document_processor.core.processor_service - INFO - Saving processing results for session 468a5a09-57c0-4902-a743-3c7fa3a59089
2025-04-19 17:07:01,282 - document_processor.core.processor_service - INFO - Processing complete for session 468a5a09-57c0-4902-a743-3c7fa3a59089
2025-04-19 17:08:08,127 - document_processor.web.views - INFO - Upload request received
2025-04-19 17:08:08,129 - document_processor.web.views - INFO - File object received: w2.png
2025-04-19 17:08:08,129 - document_processor.web.views - INFO - Original file extension: .png
2025-04-19 17:08:08,129 - document_processor.web.views - INFO - Allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 17:08:08,129 - document_processor.web.views - INFO - Normalized allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 17:08:08,129 - document_processor.web.views - INFO - Secure filename: w2.png
2025-04-19 17:08:08,130 - document_processor.web.views - INFO - Extension after secure_filename: .png
2025-04-19 17:08:08,130 - document_processor.web.views - INFO - Extension in allowed list: True
2025-04-19 17:08:08,130 - document_processor.web.views - INFO - Full file path: uploads\w2.png
2025-04-19 17:08:08,131 - document_processor.web.views - INFO - File saved successfully: True
2025-04-19 17:08:08,131 - document_processor.web.views - INFO - Saved file exists: True, size: 192512, extension: .png
2025-04-19 17:08:08,132 - document_processor.web.views - INFO - File validation result: True, Error: None
2025-04-19 17:08:08,132 - document_processor.web.views - INFO - Starting document processing for uploads\w2.png
2025-04-19 17:08:08,132 - document_processor.core.processor_service - INFO - Processing document: uploads\w2.png
2025-04-19 17:08:08,132 - document_processor.core.processor_service - INFO - File exists: True, size: 192512, extension: .png
2025-04-19 17:08:08,132 - document_processor.core.processor_service - INFO - Validating file with allowed extensions: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-19 17:08:08,132 - document_processor.core.processor_service - INFO - Generated session ID: 9de5cf67-a4ca-474a-8471-a71bf6067d34
2025-04-19 17:08:08,136 - document_processor.core.processor_service - INFO - Saved initial processing results
2025-04-19 17:08:08,138 - document_processor.core.processor_service - INFO - Starting async processing for file: uploads\w2.png, session: 9de5cf67-a4ca-474a-8471-a71bf6067d34
2025-04-19 17:08:08,138 - document_processor.core.processor_service - INFO - Started async processing with session ID: 9de5cf67-a4ca-474a-8471-a71bf6067d34 in thread
2025-04-19 17:08:08,138 - document_processor.core.processor_service - INFO - Extracting content from uploads\w2.png
2025-04-19 17:08:08,138 - document_processor.web.views - INFO - Processing started with session ID: 9de5cf67-a4ca-474a-8471-a71bf6067d34
2025-04-19 17:08:09,774 - docling.document_converter - INFO - Going to convert document batch...
2025-04-19 17:08:09,774 - docling.document_converter - INFO - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-19 17:08:09,795 - docling.models.factories.base_factory - INFO - Loading plugin 'docling_defaults'
2025-04-19 17:08:09,796 - docling.models.factories - INFO - Registered ocr engines: ['easyocr', 'ocrmac', 'rapidocr', 'tesserocr', 'tesseract']
2025-04-19 17:08:09,896 - docling.utils.accelerator_utils - INFO - Accelerator device: 'cuda:0'
2025-04-19 17:08:12,295 - docling.utils.accelerator_utils - INFO - Accelerator device: 'cuda:0'
2025-04-19 17:08:13,784 - docling.utils.accelerator_utils - INFO - Accelerator device: 'cuda:0'
2025-04-19 17:08:14,676 - docling.models.factories.base_factory - INFO - Loading plugin 'docling_defaults'
2025-04-19 17:08:14,676 - docling.models.factories - INFO - Registered picture descriptions: ['vlm', 'api']
2025-04-19 17:08:14,677 - docling.pipeline.base_pipeline - INFO - Processing document w2.png
2025-04-19 17:08:20,829 - docling.document_converter - INFO - Finished converting document w2.png in 11.23 sec.
2025-04-19 17:08:20,853 - document_processor.core.processor_service - INFO - Content extracted. Text length: 1312, Tables: 0
2025-04-19 17:08:20,854 - document_processor.core.processor_service - INFO - Classifying document
2025-04-19 17:08:20,864 - document_processor.core.classification.classifier - INFO - Document classified as 'W1 (Form W-1)' with confidence 0.48
2025-04-19 17:08:20,864 - document_processor.core.processor_service - INFO - Document classified as W1 (Form W-1) with confidence 0.48122766613960266
2025-04-19 17:08:20,864 - document_processor.core.processor_service - INFO - Extracting partnership details
2025-04-19 17:08:20,909 - document_processor.core.processor_service - INFO - Partnership details extracted: PartnershipDetails(name='IRS', address='Employee', ein='11-2233445', recipient_name='Retiretient', recipient_address='DD')
2025-04-19 17:08:20,910 - document_processor.core.processor_service - INFO - Extracting financial information
2025-04-19 17:08:20,910 - document_processor.core.processor_service - INFO - Financial information extracted
2025-04-19 17:08:20,910 - document_processor.core.processor_service - INFO - Extracting important dates
2025-04-19 17:08:20,958 - document_processor.core.processor_service - INFO - Extracted 0 important dates
2025-04-19 17:08:20,959 - document_processor.core.processor_service - INFO - Looking up investment for IRS
2025-04-19 17:08:20,959 - document_processor.core.processor_service - INFO - Saving processing results for session 9de5cf67-a4ca-474a-8471-a71bf6067d34
2025-04-19 17:08:20,962 - document_processor.core.processor_service - INFO - Processing complete for session 9de5cf67-a4ca-474a-8471-a71bf6067d34
2025-04-20 08:06:12,519 - __main__ - INFO - Logging configured
2025-04-20 08:06:12,548 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:06:12,548 - __main__ - INFO - Using device: cuda
2025-04-20 08:06:12,549 - __main__ - ERROR - Error during app initialization: 'MODELS_FOLDER'
2025-04-20 08:06:12,549 - __main__ - ERROR - Traceback (most recent call last):
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\main.py", line 79, in create_app
    if not os.path.exists(app.config['MODELS_FOLDER']):
                          ~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyError: 'MODELS_FOLDER'

2025-04-20 08:06:12,549 - root - ERROR - Failed to start application: 'MODELS_FOLDER'
2025-04-20 08:06:12,549 - root - ERROR - Traceback (most recent call last):
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\main.py", line 152, in run_app
    app = create_app()
          ^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\main.py", line 79, in create_app
    if not os.path.exists(app.config['MODELS_FOLDER']):
                          ~~~~~~~~~~^^^^^^^^^^^^^^^^^
KeyError: 'MODELS_FOLDER'

2025-04-20 08:08:25,582 - __main__ - INFO - Logging configured
2025-04-20 08:08:25,596 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:08:25,596 - __main__ - INFO - Using device: cuda
2025-04-20 08:08:25,597 - __main__ - INFO - Creating directory: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads
2025-04-20 08:08:25,597 - __main__ - INFO - Creating directory: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\models
2025-04-20 08:08:25,597 - __main__ - INFO - Creating directory: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\logs
2025-04-20 08:08:25,746 - document_processor.db.database - INFO - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:08:25,902 - __main__ - ERROR - Unhandled exception: index.html
2025-04-20 08:08:25,949 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 35, in index
    return render_template('index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: index.html

2025-04-20 08:08:25,950 - main - ERROR - Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\main.py", line 118, in handle_exception
    raise e
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 35, in index
    return render_template('index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: index.html
2025-04-20 08:08:25,952 - document_processor.web.error_handlers - ERROR - Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-04-20 08:08:25,972 - werkzeug - ERROR - Error on request:
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\main.py", line 118, in handle_exception
    raise e
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 35, in index
    return render_template('index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: index.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 860, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 36, in internal_error
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-20 08:09:25,150 - __main__ - INFO - Logging configured
2025-04-20 08:09:25,163 - document_processor.utils.gpu_utils - INFO - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:09:25,163 - __main__ - INFO - Using device: cuda
2025-04-20 08:09:25,205 - document_processor.db.database - INFO - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:09:25,351 - __main__ - ERROR - Unhandled exception: index.html
2025-04-20 08:09:25,353 - __main__ - ERROR - Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 35, in index
    return render_template('index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: index.html

2025-04-20 08:09:25,353 - main - ERROR - Exception on / [GET]
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\main.py", line 118, in handle_exception
    raise e
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 35, in index
    return render_template('index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: index.html
2025-04-20 08:09:25,355 - document_processor.web.error_handlers - ERROR - Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-04-20 08:09:25,362 - werkzeug - ERROR - Error on request:
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\main.py", line 118, in handle_exception
    raise e
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 35, in index
    return render_template('index.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: index.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 860, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 36, in internal_error
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-20 08:24:14,332 - main - INFO - main.py:55 - Logging configured
2025-04-20 08:24:14,357 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:24:14,357 - main - INFO - main.py:87 - Using device: cuda
2025-04-20 08:24:14,476 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:24:14,478 - __main__ - INFO - debug-script.py:110 - Registered routes:
2025-04-20 08:24:14,479 - __main__ - INFO - debug-script.py:112 -   static: {'HEAD', 'GET', 'OPTIONS'} /uploads/<path:filename>
2025-04-20 08:24:14,479 - __main__ - INFO - debug-script.py:112 -   api.health_check: {'HEAD', 'GET', 'OPTIONS'} /api/health
2025-04-20 08:24:14,479 - __main__ - INFO - debug-script.py:112 -   api.process_document: {'POST', 'OPTIONS'} /api/process
2025-04-20 08:24:14,479 - __main__ - INFO - debug-script.py:112 -   api.get_processing_modes: {'HEAD', 'GET', 'OPTIONS'} /api/modes
2025-04-20 08:24:14,479 - __main__ - INFO - debug-script.py:112 -   api.list_documents: {'HEAD', 'GET', 'OPTIONS'} /api/documents
2025-04-20 08:24:14,479 - __main__ - INFO - debug-script.py:112 -   api.get_document: {'HEAD', 'GET', 'OPTIONS'} /api/document/<document_id>
2025-04-20 08:24:14,479 - __main__ - INFO - debug-script.py:112 -   web.index: {'HEAD', 'GET', 'OPTIONS'} /
2025-04-20 08:24:14,480 - __main__ - INFO - debug-script.py:112 -   web.upload: {'HEAD', 'GET', 'POST', 'OPTIONS'} /upload
2025-04-20 08:24:14,480 - __main__ - INFO - debug-script.py:112 -   web.process_document: {'HEAD', 'GET', 'OPTIONS'} /process/<file_path>
2025-04-20 08:24:14,480 - __main__ - INFO - debug-script.py:112 -   web.list_documents: {'HEAD', 'GET', 'OPTIONS'} /documents
2025-04-20 08:24:14,480 - __main__ - INFO - debug-script.py:112 -   web.settings: {'HEAD', 'GET', 'OPTIONS'} /settings
2025-04-20 08:24:14,481 - __main__ - INFO - debug-script.py:185 - Debugging completed
2025-04-20 08:25:29,522 - __main__ - INFO - main.py:55 - Logging configured
2025-04-20 08:25:29,536 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:25:29,536 - __main__ - INFO - main.py:87 - Using device: cuda
2025-04-20 08:25:29,578 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:25:29,728 - __main__ - DEBUG - main.py:112 - Request: GET /
2025-04-20 08:25:29,729 - document_processor.web.views - ERROR - views.py:38 - Error rendering index template: index.html
2025-04-20 08:28:08,207 - __main__ - INFO - main.py:55 - Logging configured
2025-04-20 08:28:08,223 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:28:08,223 - __main__ - INFO - main.py:87 - Using device: cuda
2025-04-20 08:28:08,271 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:28:08,429 - __main__ - DEBUG - main.py:112 - Request: GET /
2025-04-20 08:28:08,430 - document_processor.web.views - ERROR - views.py:38 - Error rendering index template: index.html
2025-04-20 08:29:30,831 - __main__ - INFO - main.py:55 - Logging configured
2025-04-20 08:29:30,847 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:29:30,847 - __main__ - INFO - main.py:87 - Using device: cuda
2025-04-20 08:29:30,898 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:29:31,051 - __main__ - DEBUG - main.py:112 - Request: GET /
2025-04-20 08:29:31,052 - document_processor.web.views - ERROR - views.py:38 - Error rendering index template: index.html
2025-04-20 08:30:46,603 - __main__ - INFO - main.py:55 - Logging configured
2025-04-20 08:30:46,616 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:30:46,616 - __main__ - INFO - main.py:87 - Using device: cuda
2025-04-20 08:30:46,658 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:30:46,807 - __main__ - DEBUG - main.py:112 - Request: GET /
2025-04-20 08:30:46,807 - document_processor.web.views - ERROR - views.py:38 - Error rendering index template: index.html
2025-04-20 08:34:05,837 - __main__ - INFO - main.py:55 - Logging configured
2025-04-20 08:34:05,838 - __main__ - INFO - main.py:95 - Template folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\templates
2025-04-20 08:34:05,838 - __main__ - INFO - main.py:96 - Static folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads
2025-04-20 08:34:05,852 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:34:05,853 - __main__ - INFO - main.py:101 - Using device: cuda
2025-04-20 08:34:05,901 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:34:06,046 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-20 08:34:06,047 - document_processor.web.views - ERROR - views.py:38 - Error rendering index template: index.html
2025-04-20 08:37:38,951 - __main__ - INFO - main.py:55 - Logging configured
2025-04-20 08:37:38,951 - __main__ - INFO - main.py:95 - Template folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\templates
2025-04-20 08:37:38,951 - __main__ - INFO - main.py:96 - Static folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads
2025-04-20 08:37:38,971 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:37:38,972 - __main__ - INFO - main.py:101 - Using device: cuda
2025-04-20 08:37:39,016 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:37:39,184 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-20 08:37:39,185 - document_processor.web.views - ERROR - views.py:38 - Error rendering index template: index.html
2025-04-20 08:38:21,243 - __main__ - INFO - main.py:55 - Logging configured
2025-04-20 08:38:21,243 - __main__ - INFO - main.py:95 - Template folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\templates
2025-04-20 08:38:21,243 - __main__ - INFO - main.py:96 - Static folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads
2025-04-20 08:38:21,258 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:38:21,258 - __main__ - INFO - main.py:101 - Using device: cuda
2025-04-20 08:38:21,303 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:38:21,576 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-20 08:39:33,851 - __main__ - INFO - main.py:55 - Logging configured
2025-04-20 08:39:33,851 - __main__ - INFO - main.py:95 - Template folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\templates
2025-04-20 08:39:33,851 - __main__ - INFO - main.py:96 - Static folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads
2025-04-20 08:39:33,864 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:39:33,864 - __main__ - INFO - main.py:101 - Using device: cuda
2025-04-20 08:39:33,909 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:39:34,061 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-20 08:39:39,253 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-20 08:39:47,756 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-20 08:39:47,758 - document_processor.web.views - INFO - views.py:86 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_e31de3b8.png
2025-04-20 08:39:47,765 - __main__ - DEBUG - main.py:126 - Request: GET /process/w2_e31de3b8.png
2025-04-20 08:39:47,765 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:39:47,767 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:219 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-20 08:39:52,529 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-20 08:39:52,529 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-20 08:39:52,529 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:39:52,529 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-20 08:39:52,743 - filelock - DEBUG - _api.py:331 - Attempting to acquire lock 2573269963008 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\a0bc8712d624b7bf0338f7df42f66641170ef581.lock
2025-04-20 08:39:52,744 - filelock - DEBUG - _api.py:334 - Lock 2573269963008 acquired on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\a0bc8712d624b7bf0338f7df42f66641170ef581.lock
2025-04-20 08:39:52,990 - filelock - DEBUG - _api.py:364 - Attempting to release lock 2573269963008 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\a0bc8712d624b7bf0338f7df42f66641170ef581.lock
2025-04-20 08:39:52,990 - filelock - DEBUG - _api.py:367 - Lock 2573269963008 released on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\a0bc8712d624b7bf0338f7df42f66641170ef581.lock
2025-04-20 08:39:53,251 - filelock - DEBUG - _api.py:331 - Attempting to acquire lock 2573270529904 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\7cfd8adde9cd57d6511e3fb0f89de48386d62406.lock
2025-04-20 08:39:53,252 - filelock - DEBUG - _api.py:334 - Lock 2573270529904 acquired on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\7cfd8adde9cd57d6511e3fb0f89de48386d62406.lock
2025-04-20 08:39:53,541 - filelock - DEBUG - _api.py:364 - Attempting to release lock 2573270529904 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\7cfd8adde9cd57d6511e3fb0f89de48386d62406.lock
2025-04-20 08:39:53,541 - filelock - DEBUG - _api.py:367 - Lock 2573270529904 released on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\7cfd8adde9cd57d6511e3fb0f89de48386d62406.lock
2025-04-20 08:39:53,756 - filelock - DEBUG - _api.py:331 - Attempting to acquire lock 2573271203136 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\0a39732b2d8be8e493cab3da68b68cc3e28221de.lock
2025-04-20 08:39:53,757 - filelock - DEBUG - _api.py:334 - Lock 2573271203136 acquired on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\0a39732b2d8be8e493cab3da68b68cc3e28221de.lock
2025-04-20 08:39:54,546 - filelock - DEBUG - _api.py:364 - Attempting to release lock 2573271203136 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\0a39732b2d8be8e493cab3da68b68cc3e28221de.lock
2025-04-20 08:39:54,547 - filelock - DEBUG - _api.py:367 - Lock 2573271203136 released on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\0a39732b2d8be8e493cab3da68b68cc3e28221de.lock
2025-04-20 08:39:54,760 - filelock - DEBUG - _api.py:331 - Attempting to acquire lock 2573271202800 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\226b0752cac7789c48f0cb3ec53eda48b7be36cc.lock
2025-04-20 08:39:54,761 - filelock - DEBUG - _api.py:334 - Lock 2573271202800 acquired on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\226b0752cac7789c48f0cb3ec53eda48b7be36cc.lock
2025-04-20 08:39:55,036 - filelock - DEBUG - _api.py:364 - Attempting to release lock 2573271202800 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\226b0752cac7789c48f0cb3ec53eda48b7be36cc.lock
2025-04-20 08:39:55,037 - filelock - DEBUG - _api.py:367 - Lock 2573271202800 released on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\226b0752cac7789c48f0cb3ec53eda48b7be36cc.lock
2025-04-20 08:39:56,779 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-20 08:39:56,986 - filelock - DEBUG - _api.py:331 - Attempting to acquire lock 2573271202800 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\ec0aa732969695a03b4694f4119ff44f5b477d61.lock
2025-04-20 08:39:56,986 - filelock - DEBUG - _api.py:334 - Lock 2573271202800 acquired on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\ec0aa732969695a03b4694f4119ff44f5b477d61.lock
2025-04-20 08:39:57,198 - filelock - DEBUG - _api.py:364 - Attempting to release lock 2573271202800 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\ec0aa732969695a03b4694f4119ff44f5b477d61.lock
2025-04-20 08:39:57,198 - filelock - DEBUG - _api.py:367 - Lock 2573271202800 released on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\ec0aa732969695a03b4694f4119ff44f5b477d61.lock
2025-04-20 08:39:57,632 - filelock - DEBUG - _api.py:331 - Attempting to acquire lock 2573271202416 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\3c6bd09290e28867c32adf634a6b36574ff43a9e53539633f5ac540015ac2baf.lock
2025-04-20 08:39:57,632 - filelock - DEBUG - _api.py:334 - Lock 2573271202416 acquired on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\3c6bd09290e28867c32adf634a6b36574ff43a9e53539633f5ac540015ac2baf.lock
2025-04-20 08:40:23,144 - filelock - DEBUG - _api.py:364 - Attempting to release lock 2573271202416 on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\3c6bd09290e28867c32adf634a6b36574ff43a9e53539633f5ac540015ac2baf.lock
2025-04-20 08:40:23,144 - filelock - DEBUG - _api.py:367 - Lock 2573271202416 released on C:\Users\ahmed\.cache\huggingface\hub\.locks\models--microsoft--layoutlmv3-base\3c6bd09290e28867c32adf634a6b36574ff43a9e53539633f5ac540015ac2baf.lock
2025-04-20 08:40:23,480 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-20 08:40:23,481 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:40:23,481 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-20 08:40:24,789 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-20 08:40:25,588 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-20 08:40:25,588 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-20 08:40:25,589 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_e31de3b8.png using layoutlm mode
2025-04-20 08:40:25,589 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:101 - Classifying document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_e31de3b8.png
2025-04-20 08:40:25,639 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:198 - STREAM b'IHDR' 16 13
2025-04-20 08:40:25,639 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:198 - STREAM b'IDAT' 41 65536
2025-04-20 08:40:26,561 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_w8_b15xt_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_w8_b15xt', '-c', 'tessedit_create_tsv=1']
2025-04-20 08:40:27,687 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:116 - Document classified as invoice with confidence 0.2399
2025-04-20 08:40:27,687 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:129 - Extracting entities from document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_e31de3b8.png
2025-04-20 08:40:27,687 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:198 - STREAM b'IHDR' 16 13
2025-04-20 08:40:27,687 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:198 - STREAM b'IDAT' 41 65536
2025-04-20 08:40:27,723 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_7smzqjfv_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_7smzqjfv', '-c', 'tessedit_create_tsv=1']
2025-04-20 08:40:28,332 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:182 - Extracted 200 entities from document
2025-04-20 08:40:28,333 - document_processor.core.processor_service - ERROR - processor_service.py:83 - Error processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_e31de3b8.png: 'BaseExtractor' object has no attribute 'extract_text'
2025-04-20 08:40:28,333 - document_processor.core.processor_service - ERROR - processor_service.py:84 - Traceback (most recent call last):
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\core\processor_service.py", line 78, in process_document
    return self._process_with_layoutlm(file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\core\processor_service.py", line 153, in _process_with_layoutlm
    text = self.text_extractor.extract_text(file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BaseExtractor' object has no attribute 'extract_text'

2025-04-20 08:40:28,334 - __main__ - ERROR - main.py:133 - Unhandled exception: name 'DocumentProcessorError' is not defined
2025-04-20 08:40:28,337 - __main__ - ERROR - main.py:134 - Traceback (most recent call last):
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\core\processor_service.py", line 78, in process_document
    return self._process_with_layoutlm(file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\core\processor_service.py", line 153, in _process_with_layoutlm
    text = self.text_extractor.extract_text(file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BaseExtractor' object has no attribute 'extract_text'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 126, in process_document
    result = processor.process_document(full_file_path, mode=mode)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\core\processor_service.py", line 85, in process_document
    raise ProcessingError(f"Document processing failed: {str(e)}")
document_processor.utils.custom_exceptions.ProcessingError: Document processing failed: 'BaseExtractor' object has no attribute 'extract_text'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 131, in process_document
    except DocumentProcessorError as e:
           ^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'DocumentProcessorError' is not defined

2025-04-20 08:40:28,338 - main - ERROR - app.py:875 - Exception on /process/w2_e31de3b8.png [GET]
Traceback (most recent call last):
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\core\processor_service.py", line 78, in process_document
    return self._process_with_layoutlm(file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\core\processor_service.py", line 153, in _process_with_layoutlm
    text = self.text_extractor.extract_text(file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BaseExtractor' object has no attribute 'extract_text'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 126, in process_document
    result = processor.process_document(full_file_path, mode=mode)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\core\processor_service.py", line 85, in process_document
    raise ProcessingError(f"Document processing failed: {str(e)}")
document_processor.utils.custom_exceptions.ProcessingError: Document processing failed: 'BaseExtractor' object has no attribute 'extract_text'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 131, in process_document
    except DocumentProcessorError as e:
           ^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'DocumentProcessorError' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\main.py", line 147, in handle_exception
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-20 08:40:28,346 - document_processor.web.error_handlers - ERROR - error_handlers.py:30 - Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-04-20 08:40:28,356 - werkzeug - ERROR - _internal.py:97 - Error on request:
Traceback (most recent call last):
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\core\processor_service.py", line 78, in process_document
    return self._process_with_layoutlm(file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\core\processor_service.py", line 153, in _process_with_layoutlm
    text = self.text_extractor.extract_text(file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'BaseExtractor' object has no attribute 'extract_text'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 126, in process_document
    result = processor.process_document(full_file_path, mode=mode)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\core\processor_service.py", line 85, in process_document
    raise ProcessingError(f"Document processing failed: {str(e)}")
document_processor.utils.custom_exceptions.ProcessingError: Document processing failed: 'BaseExtractor' object has no attribute 'extract_text'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\views.py", line 131, in process_document
    except DocumentProcessorError as e:
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
NameError: name 'DocumentProcessorError' is not defined

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\main.py", line 147, in handle_exception
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 860, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 36, in internal_error
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-20 08:51:39,262 - __main__ - INFO - main.py:55 - Logging configured
2025-04-20 08:51:39,262 - __main__ - INFO - main.py:95 - Template folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\templates
2025-04-20 08:51:39,262 - __main__ - INFO - main.py:96 - Static folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads
2025-04-20 08:51:39,277 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:51:39,277 - __main__ - INFO - main.py:101 - Using device: cuda
2025-04-20 08:51:39,326 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-20 08:51:39,481 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-20 08:51:47,201 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-20 08:51:53,052 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-20 08:51:53,055 - document_processor.web.views - INFO - views.py:87 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_f8b26aa8.png
2025-04-20 08:51:53,065 - __main__ - DEBUG - main.py:126 - Request: GET /process/w2_f8b26aa8.png
2025-04-20 08:51:53,065 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:51:53,071 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:219 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-20 08:51:59,064 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-20 08:51:59,064 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-20 08:51:59,064 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-20 08:51:59,064 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:51:59,064 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-20 08:52:01,099 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-20 08:52:01,830 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-20 08:52:01,831 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:52:01,831 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-20 08:52:03,570 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-20 08:52:04,490 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-20 08:52:04,490 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-20 08:52:04,490 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_f8b26aa8.png using layoutlm mode
2025-04-20 08:52:04,491 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:101 - Classifying document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_f8b26aa8.png
2025-04-20 08:52:04,513 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:198 - STREAM b'IHDR' 16 13
2025-04-20 08:52:04,514 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:198 - STREAM b'IDAT' 41 65536
2025-04-20 08:52:04,565 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_85zqdk6g_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_85zqdk6g', '-c', 'tessedit_create_tsv=1']
2025-04-20 08:52:05,252 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:116 - Document classified as invoice with confidence 0.2222
2025-04-20 08:52:05,253 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:129 - Extracting entities from document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_f8b26aa8.png
2025-04-20 08:52:05,253 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:198 - STREAM b'IHDR' 16 13
2025-04-20 08:52:05,253 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:198 - STREAM b'IDAT' 41 65536
2025-04-20 08:52:05,292 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_r75nh85x_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_r75nh85x', '-c', 'tessedit_create_tsv=1']
2025-04-20 08:52:05,919 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:182 - Extracted 206 entities from document
2025-04-20 08:52:05,921 - document_processor.core.extraction.text_extractor - WARNING - text_extractor.py:76 - Image OCR not implemented in this version
2025-04-20 08:52:55,143 - __main__ - DEBUG - main.py:126 - Request: GET /documents
2025-04-20 08:52:58,079 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-20 08:52:59,692 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-20 08:53:07,150 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-20 08:53:07,154 - document_processor.web.views - INFO - views.py:87 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_436e31e8.png
2025-04-20 08:53:07,162 - __main__ - DEBUG - main.py:126 - Request: GET /process/w2_436e31e8.png
2025-04-20 08:53:07,162 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:53:07,165 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:219 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-20 08:53:10,557 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-20 08:53:10,557 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-20 08:53:10,557 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-20 08:53:10,558 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:53:10,558 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-20 08:53:11,822 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-20 08:53:12,750 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-20 08:53:12,751 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:53:12,751 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-20 08:53:13,997 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-20 08:53:14,789 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-20 08:53:14,789 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-20 08:53:14,789 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_436e31e8.png using traditional mode
2025-04-20 08:53:14,789 - document_processor.core.extraction.text_extractor - WARNING - text_extractor.py:76 - Image OCR not implemented in this version
2025-04-20 08:53:14,808 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'Shareholder Meeting Notice' with confidence 0.13
2025-04-20 08:53:32,659 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-20 08:53:38,404 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-20 08:53:38,406 - document_processor.web.views - INFO - views.py:87 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_2f491495.pdf
2025-04-20 08:53:38,413 - __main__ - DEBUG - main.py:126 - Request: GET /process/K-1-Web-Example-1742412925169_2f491495.pdf
2025-04-20 08:53:38,413 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:53:38,417 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:219 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-20 08:53:40,880 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-20 08:53:40,881 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-20 08:53:40,881 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-20 08:53:40,881 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:53:40,881 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-20 08:53:42,552 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-20 08:53:43,407 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-20 08:53:43,407 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:53:43,407 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-20 08:53:44,706 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-20 08:53:45,519 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-20 08:53:45,519 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-20 08:53:45,520 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_2f491495.pdf using traditional mode
2025-04-20 08:53:45,645 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'K1 (Schedule K-1)' with confidence 0.42
2025-04-20 08:54:23,199 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-20 08:54:24,468 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-20 08:54:31,620 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-20 08:54:31,623 - document_processor.web.views - INFO - views.py:87 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_f2485550.png
2025-04-20 08:54:31,633 - __main__ - DEBUG - main.py:126 - Request: GET /process/w2_f2485550.png
2025-04-20 08:54:31,634 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:54:31,637 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:219 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-20 08:54:34,792 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-20 08:54:34,792 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-20 08:54:34,792 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-20 08:54:34,793 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:54:34,793 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-20 08:54:36,112 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-20 08:54:36,928 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-20 08:54:36,929 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-20 08:54:36,929 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-20 08:54:38,188 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-20 08:54:39,007 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-20 08:54:39,007 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-20 08:54:39,007 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_f2485550.png using traditional mode
2025-04-20 08:54:39,008 - document_processor.core.extraction.text_extractor - WARNING - text_extractor.py:76 - Image OCR not implemented in this version
2025-04-20 08:54:39,019 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'Shareholder Meeting Notice' with confidence 0.17
2025-04-20 08:54:56,047 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-24 14:14:45,951 - __main__ - INFO - main.py:55 - Logging configured
2025-04-24 14:14:45,952 - __main__ - INFO - main.py:95 - Template folder: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\templates
2025-04-24 14:14:45,952 - __main__ - INFO - main.py:96 - Static folder: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads
2025-04-24 14:14:45,966 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:14:45,967 - __main__ - INFO - main.py:101 - Using device: cuda
2025-04-24 14:14:46,016 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-24 14:14:46,166 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-24 14:14:46,360 - __main__ - DEBUG - main.py:126 - Request: GET /favicon.ico
2025-04-24 14:14:46,361 - main - ERROR - app.py:875 - Exception on /favicon.ico [GET]
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html
2025-04-24 14:14:46,435 - document_processor.web.error_handlers - ERROR - error_handlers.py:30 - Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-04-24 14:14:46,495 - werkzeug - ERROR - _internal.py:97 - Error on request:
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 860, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 36, in internal_error
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-24 14:14:50,734 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-24 14:14:57,809 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-24 14:14:57,815 - document_processor.web.views - INFO - views.py:87 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8.pdf
2025-04-24 14:14:57,822 - __main__ - DEBUG - main.py:126 - Request: GET /process/K-1-Web-Example-1742412925169_bc1600c8.pdf
2025-04-24 14:14:57,823 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:14:57,828 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-24 14:15:01,694 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-24 14:15:01,694 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-24 14:15:01,694 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-24 14:15:01,694 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:15:01,694 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-24 14:15:03,462 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:15:05,463 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-24 14:15:05,463 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:15:05,463 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-24 14:15:08,580 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:15:09,514 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-24 14:15:09,514 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-24 14:15:09,514 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8.pdf using layoutlm mode
2025-04-24 14:15:09,705 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 1 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8_page_1.png
2025-04-24 14:15:09,863 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 2 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8_page_2.png
2025-04-24 14:15:10,048 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 3 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8_page_3.png
2025-04-24 14:15:10,206 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 4 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8_page_4.png
2025-04-24 14:15:10,373 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 5 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8_page_5.png
2025-04-24 14:15:10,530 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 6 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8_page_6.png
2025-04-24 14:15:10,734 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 7 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8_page_7.png
2025-04-24 14:15:10,735 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:101 - Classifying document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8_page_1.png
2025-04-24 14:15:10,800 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-24 14:15:10,801 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'pHYs' 41 9
2025-04-24 14:15:10,801 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 62 81776
2025-04-24 14:15:11,832 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_8qkph5yg_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_8qkph5yg', '-c', 'tessedit_create_tsv=1']
2025-04-24 14:15:12,746 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:116 - Document classified as bank_statement with confidence 0.2483
2025-04-24 14:15:12,746 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:129 - Extracting entities from document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_bc1600c8_page_1.png
2025-04-24 14:15:12,746 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-24 14:15:12,746 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'pHYs' 41 9
2025-04-24 14:15:12,746 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 62 81776
2025-04-24 14:15:12,932 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_zx5elnd9_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_zx5elnd9', '-c', 'tessedit_create_tsv=1']
2025-04-24 14:15:13,475 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:182 - Extracted 24 entities from document
2025-04-24 14:15:13,543 - __main__ - DEBUG - main.py:126 - Request: GET /static/C:/Users/ahmed/Desktop/dhap/1.4LMV3/document_processor/uploads/K-1-Web-Example-1742412925169_bc1600c8_page_1.png
2025-04-24 14:15:13,543 - main - ERROR - app.py:875 - Exception on /static/C:/Users/ahmed/Desktop/dhap/1.4LMV3/document_processor/uploads/K-1-Web-Example-1742412925169_bc1600c8_page_1.png [GET]
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html
2025-04-24 14:15:13,544 - document_processor.web.error_handlers - ERROR - error_handlers.py:30 - Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-04-24 14:15:13,547 - werkzeug - ERROR - _internal.py:97 - Error on request:
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 860, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 36, in internal_error
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-24 14:16:13,258 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-24 14:16:17,859 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-24 14:16:17,863 - document_processor.web.views - INFO - views.py:87 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_c0d3253a.png
2025-04-24 14:16:17,870 - __main__ - DEBUG - main.py:126 - Request: GET /process/w2_c0d3253a.png
2025-04-24 14:16:17,870 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:16:17,873 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-24 14:16:20,796 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-24 14:16:20,796 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-24 14:16:20,797 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-24 14:16:20,797 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:16:20,797 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-24 14:16:22,099 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:16:23,010 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-24 14:16:23,010 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:16:23,011 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-24 14:16:24,240 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:16:25,171 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-24 14:16:25,173 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-24 14:16:25,173 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_c0d3253a.png using layoutlm mode
2025-04-24 14:16:25,173 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:101 - Classifying document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_c0d3253a.png
2025-04-24 14:16:25,187 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-24 14:16:25,187 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 41 65536
2025-04-24 14:16:25,241 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_2fv0ccv7_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_2fv0ccv7', '-c', 'tessedit_create_tsv=1']
2025-04-24 14:16:25,850 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:116 - Document classified as invoice with confidence 0.2437
2025-04-24 14:16:25,850 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:129 - Extracting entities from document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_c0d3253a.png
2025-04-24 14:16:25,851 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-24 14:16:25,851 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 41 65536
2025-04-24 14:16:25,930 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_2tfr9r16_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_2tfr9r16', '-c', 'tessedit_create_tsv=1']
2025-04-24 14:16:26,570 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:182 - Extracted 242 entities from document
2025-04-24 14:16:26,570 - document_processor.core.extraction.text_extractor - WARNING - text_extractor.py:76 - Image OCR not implemented in this version
2025-04-24 14:16:57,917 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-24 14:17:04,215 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-24 14:17:04,217 - document_processor.web.views - INFO - views.py:87 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_583d796f.png
2025-04-24 14:17:04,227 - __main__ - DEBUG - main.py:126 - Request: GET /process/w2_583d796f.png
2025-04-24 14:17:04,227 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:17:04,230 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-24 14:17:06,765 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-24 14:17:06,765 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-24 14:17:06,765 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-24 14:17:06,765 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:17:06,765 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-24 14:17:07,866 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:17:08,925 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-24 14:17:08,926 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:17:08,926 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-24 14:17:10,036 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:17:10,802 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-24 14:17:10,802 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-24 14:17:10,802 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\w2_583d796f.png using traditional mode
2025-04-24 14:17:10,802 - document_processor.core.extraction.text_extractor - WARNING - text_extractor.py:76 - Image OCR not implemented in this version
2025-04-24 14:17:10,824 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'Shareholder Meeting Notice' with confidence 0.18
2025-04-24 14:18:06,346 - __main__ - INFO - main.py:55 - Logging configured
2025-04-24 14:18:06,346 - __main__ - INFO - main.py:95 - Template folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\templates
2025-04-24 14:18:06,346 - __main__ - INFO - main.py:96 - Static folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads
2025-04-24 14:18:06,359 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:18:06,359 - __main__ - INFO - main.py:101 - Using device: cuda
2025-04-24 14:18:06,397 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-24 14:18:06,565 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-24 14:18:14,139 - __main__ - DEBUG - main.py:126 - Request: GET /documents
2025-04-24 14:18:15,712 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-24 14:18:17,436 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-24 14:18:24,671 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-24 14:18:24,675 - document_processor.web.views - INFO - views.py:87 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86.pdf
2025-04-24 14:18:24,683 - __main__ - DEBUG - main.py:126 - Request: GET /process/K-1-Web-Example-1742592337615_c6d5fc86.pdf
2025-04-24 14:18:24,683 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:18:24,689 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-24 14:18:27,777 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-24 14:18:27,777 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-24 14:18:27,777 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-24 14:18:27,777 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:18:27,778 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-24 14:18:28,894 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:18:29,760 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-24 14:18:29,760 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:18:29,760 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-24 14:18:31,217 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:18:32,088 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-24 14:18:32,088 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-24 14:18:32,088 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86.pdf using layoutlm mode
2025-04-24 14:18:32,318 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 1 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86_page_1.png
2025-04-24 14:18:32,505 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 2 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86_page_2.png
2025-04-24 14:18:32,742 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 3 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86_page_3.png
2025-04-24 14:18:32,949 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 4 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86_page_4.png
2025-04-24 14:18:33,134 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 5 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86_page_5.png
2025-04-24 14:18:33,325 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 6 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86_page_6.png
2025-04-24 14:18:33,570 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 7 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86_page_7.png
2025-04-24 14:18:33,572 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:101 - Classifying document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86_page_1.png
2025-04-24 14:18:33,598 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-24 14:18:33,598 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'pHYs' 41 9
2025-04-24 14:18:33,598 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 62 81776
2025-04-24 14:18:33,896 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_dpzrch66_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_dpzrch66', '-c', 'tessedit_create_tsv=1']
2025-04-24 14:18:34,628 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:116 - Document classified as invoice with confidence 0.2218
2025-04-24 14:18:34,629 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:129 - Extracting entities from document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_c6d5fc86_page_1.png
2025-04-24 14:18:34,629 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-24 14:18:34,629 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'pHYs' 41 9
2025-04-24 14:18:34,629 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 62 81776
2025-04-24 14:18:34,859 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_mgv76u2s_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_mgv76u2s', '-c', 'tessedit_create_tsv=1']
2025-04-24 14:18:35,358 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:182 - Extracted 7 entities from document
2025-04-24 14:18:35,433 - __main__ - DEBUG - main.py:126 - Request: GET /static/C:/Users/ahmed/Desktop/dhap/1.4LMV3/document_processor/uploads/K-1-Web-Example-1742592337615_c6d5fc86_page_1.png
2025-04-24 14:18:35,434 - main - ERROR - app.py:875 - Exception on /static/C:/Users/ahmed/Desktop/dhap/1.4LMV3/document_processor/uploads/K-1-Web-Example-1742592337615_c6d5fc86_page_1.png [GET]
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html
2025-04-24 14:18:35,438 - document_processor.web.error_handlers - ERROR - error_handlers.py:30 - Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-04-24 14:18:35,444 - werkzeug - ERROR - _internal.py:97 - Error on request:
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 860, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 36, in internal_error
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-24 14:19:15,621 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-24 14:19:24,456 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-24 14:19:24,459 - document_processor.web.views - INFO - views.py:87 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_28952c1e.pdf
2025-04-24 14:19:24,466 - __main__ - DEBUG - main.py:126 - Request: GET /process/Vitahustle-investment-memo-comparison-1742424394067_28952c1e.pdf
2025-04-24 14:19:24,466 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:19:24,469 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-24 14:19:27,012 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-24 14:19:27,012 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-24 14:19:27,013 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-24 14:19:27,013 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:19:27,013 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-24 14:19:28,171 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:19:28,946 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-24 14:19:28,947 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:19:28,947 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-24 14:19:30,025 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:19:30,813 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-24 14:19:30,813 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-24 14:19:30,815 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_28952c1e.pdf using layoutlm mode
2025-04-24 14:19:31,048 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 1 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_28952c1e.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_28952c1e_page_1.png
2025-04-24 14:19:31,269 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 2 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_28952c1e.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_28952c1e_page_2.png
2025-04-24 14:19:31,476 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 3 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_28952c1e.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_28952c1e_page_3.png
2025-04-24 14:19:31,478 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:101 - Classifying document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_28952c1e_page_1.png
2025-04-24 14:19:31,490 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-24 14:19:31,490 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'pHYs' 41 9
2025-04-24 14:19:31,490 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 62 496291
2025-04-24 14:19:31,800 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_ciofgweb_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_ciofgweb', '-c', 'tessedit_create_tsv=1']
2025-04-24 14:19:33,572 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:116 - Document classified as invoice with confidence 0.2480
2025-04-24 14:19:33,572 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:129 - Extracting entities from document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_28952c1e_page_1.png
2025-04-24 14:19:33,573 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-24 14:19:33,573 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'pHYs' 41 9
2025-04-24 14:19:33,573 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 62 496291
2025-04-24 14:19:33,862 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_jgbvx0fx_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_jgbvx0fx', '-c', 'tessedit_create_tsv=1']
2025-04-24 14:19:35,296 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:182 - Extracted 149 entities from document
2025-04-24 14:19:35,351 - __main__ - DEBUG - main.py:126 - Request: GET /static/C:/Users/ahmed/Desktop/dhap/1.4LMV3/document_processor/uploads/Vitahustle-investment-memo-comparison-1742424394067_28952c1e_page_1.png
2025-04-24 14:19:35,352 - main - ERROR - app.py:875 - Exception on /static/C:/Users/ahmed/Desktop/dhap/1.4LMV3/document_processor/uploads/Vitahustle-investment-memo-comparison-1742424394067_28952c1e_page_1.png [GET]
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html
2025-04-24 14:19:35,354 - document_processor.web.error_handlers - ERROR - error_handlers.py:30 - Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-04-24 14:19:35,358 - werkzeug - ERROR - _internal.py:97 - Error on request:
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 860, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 36, in internal_error
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-24 14:21:05,045 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-24 14:21:10,240 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-24 14:21:10,241 - document_processor.web.views - INFO - views.py:87 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_069d87c8.pdf
2025-04-24 14:21:10,250 - __main__ - DEBUG - main.py:126 - Request: GET /process/Vitahustle-investment-memo-comparison-1742424394067_069d87c8.pdf
2025-04-24 14:21:10,251 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:21:10,254 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-24 14:21:13,221 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-24 14:21:13,222 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-24 14:21:13,222 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-24 14:21:13,222 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:21:13,222 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-24 14:21:14,350 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:21:15,223 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-24 14:21:15,225 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:21:15,225 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-24 14:21:16,489 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:21:17,297 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-24 14:21:17,298 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-24 14:21:17,298 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\Vitahustle-investment-memo-comparison-1742424394067_069d87c8.pdf using traditional mode
2025-04-24 14:21:17,333 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'K1 (Schedule K-1)' with confidence 0.15
2025-04-24 14:21:29,262 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-24 14:22:41,281 - __main__ - INFO - main.py:55 - Logging configured
2025-04-24 14:22:41,281 - __main__ - INFO - main.py:95 - Template folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\templates
2025-04-24 14:22:41,282 - __main__ - INFO - main.py:96 - Static folder: c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads
2025-04-24 14:22:41,294 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:22:41,294 - __main__ - INFO - main.py:101 - Using device: cuda
2025-04-24 14:22:41,336 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\document_processor.db
2025-04-24 14:22:41,608 - __main__ - DEBUG - main.py:126 - Request: GET /
2025-04-24 14:22:43,019 - __main__ - DEBUG - main.py:126 - Request: GET /upload
2025-04-24 14:22:50,200 - __main__ - DEBUG - main.py:126 - Request: POST /upload
2025-04-24 14:22:50,203 - document_processor.web.views - INFO - views.py:87 - File uploaded: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e.pdf
2025-04-24 14:22:50,213 - __main__ - DEBUG - main.py:126 - Request: GET /process/K-1-Web-Example-1742415009633_a986f49e.pdf
2025-04-24 14:22:50,214 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:22:50,216 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-24 14:22:53,498 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-24 14:22:53,499 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-24 14:22:53,499 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-24 14:22:53,499 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:22:53,499 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-24 14:22:54,634 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:22:55,565 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-24 14:22:55,566 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-24 14:22:55,566 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-24 14:22:56,661 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-24 14:22:57,525 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-24 14:22:57,525 - document_processor.core.processor_service - INFO - processor_service.py:56 - Document processor service initialized
2025-04-24 14:22:57,525 - document_processor.core.processor_service - INFO - processor_service.py:70 - Processing document C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e.pdf using layoutlm mode
2025-04-24 14:22:57,739 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 1 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e_page_1.png
2025-04-24 14:22:57,932 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 2 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e_page_2.png
2025-04-24 14:22:58,154 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 3 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e_page_3.png
2025-04-24 14:22:58,339 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 4 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e_page_4.png
2025-04-24 14:22:58,535 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 5 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e_page_5.png
2025-04-24 14:22:58,725 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 6 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e_page_6.png
2025-04-24 14:22:58,959 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 7 of C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e.pdf to C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e_page_7.png
2025-04-24 14:22:58,961 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:101 - Classifying document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e_page_1.png
2025-04-24 14:22:58,983 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-24 14:22:58,983 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'pHYs' 41 9
2025-04-24 14:22:58,983 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 62 81776
2025-04-24 14:22:59,220 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_il8hpn7n_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_il8hpn7n', '-c', 'tessedit_create_tsv=1']
2025-04-24 14:22:59,963 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:116 - Document classified as invoice with confidence 0.2402
2025-04-24 14:22:59,963 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:129 - Extracting entities from document: C:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\uploads\K-1-Web-Example-1742415009633_a986f49e_page_1.png
2025-04-24 14:22:59,964 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-24 14:22:59,964 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'pHYs' 41 9
2025-04-24 14:22:59,964 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 62 81776
2025-04-24 14:23:00,220 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_qcfklydp_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_qcfklydp', '-c', 'tessedit_create_tsv=1']
2025-04-24 14:23:00,781 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:182 - Extracted 27 entities from document
2025-04-24 14:23:00,866 - __main__ - DEBUG - main.py:126 - Request: GET /static/C:/Users/ahmed/Desktop/dhap/1.4LMV3/document_processor/uploads/K-1-Web-Example-1742415009633_a986f49e_page_1.png
2025-04-24 14:23:00,867 - main - ERROR - app.py:875 - Exception on /static/C:/Users/ahmed/Desktop/dhap/1.4LMV3/document_processor/uploads/K-1-Web-Example-1742415009633_a986f49e_page_1.png [GET]
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html
2025-04-24 14:23:00,871 - document_processor.web.error_handlers - ERROR - error_handlers.py:30 - Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-04-24 14:23:00,878 - werkzeug - ERROR - _internal.py:97 - Error on request:
Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 860, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\Desktop\dhap\1.4LMV3\document_processor\web\error_handlers.py", line 36, in internal_error
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-28 14:25:04,491 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 14:25:04,491 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 14:25:04,492 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 14:25:04,525 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:25:04,525 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 14:25:04,697 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 14:25:04,929 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 14:25:15,303 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 14:25:57,226 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 14:25:57,230 - document_processor.web.views - INFO - views.py:93 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad.pdf
2025-04-28 14:25:57,241 - __main__ - DEBUG - main.py:127 - Request: GET /process/K-1-Web-Example-1744414635343_e4cc98ad.pdf
2025-04-28 14:25:57,241 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:25:57,247 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 14:26:01,258 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 14:26:01,258 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 14:26:01,259 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:26:01,259 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:31 - LayoutLMv3 classifier using device: cuda
2025-04-28 14:26:02,618 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:41 - Initializing LayoutLMv3 with pre-trained weights
2025-04-28 14:26:04,634 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:58 - LayoutLMv3 document classifier initialized successfully
2025-04-28 14:26:04,635 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:26:04,635 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:32 - LayoutLMv3 extractor using device: cuda
2025-04-28 14:26:05,806 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:42 - Initializing LayoutLMv3 with pre-trained weights
2025-04-28 14:26:06,868 - document_processor.core.information.layoutlm_extractor - INFO - layoutlm_extractor.py:66 - LayoutLMv3 information extractor initialized successfully
2025-04-28 14:26:06,869 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:26:06,869 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:95 - Targeted extractor initialized with device: cuda
2025-04-28 14:26:06,870 - document_processor.core.extraction.targeted_extractor - WARNING - targeted_extractor.py:115 - doctr not available. Install with 'pip install doctr-io'
2025-04-28 14:26:06,870 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:122 - Initializing LayoutLMv3 models
2025-04-28 14:26:09,080 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:133 - LayoutLMv3 models initialized successfully
2025-04-28 14:26:09,080 - document_processor.core.processor_service - INFO - processor_service.py:62 - Document processor service initialized
2025-04-28 14:26:09,081 - document_processor.core.processor_service - INFO - processor_service.py:78 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad.pdf using layoutlm mode and targeted extraction
2025-04-28 14:26:09,081 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 14:26:09,081 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad.pdf
2025-04-28 14:26:09,596 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 1 of A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad.pdf to A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad_page_1.png
2025-04-28 14:26:09,993 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 2 of A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad.pdf to A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad_page_2.png
2025-04-28 14:26:10,506 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 3 of A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad.pdf to A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad_page_3.png
2025-04-28 14:26:10,960 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 4 of A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad.pdf to A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad_page_4.png
2025-04-28 14:26:11,441 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 5 of A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad.pdf to A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad_page_5.png
2025-04-28 14:26:11,883 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 6 of A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad.pdf to A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad_page_6.png
2025-04-28 14:26:12,438 - document_processor.utils.file_utils - INFO - file_utils.py:122 - Converted page 7 of A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad.pdf to A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad_page_7.png
2025-04-28 14:26:12,442 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:101 - Classifying document: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad_page_1.png
2025-04-28 14:26:12,535 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-28 14:26:12,535 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'pHYs' 41 9
2025-04-28 14:26:12,536 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 62 81776
2025-04-28 14:26:13,858 - pytesseract - DEBUG - pytesseract.py:272 - ['tesseract', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_a3m0v1_a_input.PNG', 'C:\\Users\\ahmed\\AppData\\Local\\Temp\\tess_a3m0v1_a', '-c', 'tessedit_create_tsv=1']
2025-04-28 14:26:15,104 - document_processor.core.classification.layoutlm_classifier - INFO - layoutlm_classifier.py:116 - Document classified as investment_report with confidence 0.2580
2025-04-28 14:26:15,105 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 14:26:15,105 - document_processor.core.extraction.text_extractor - ERROR - text_extractor.py:154 - Error extracting from PDF A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1744414635343_e4cc98ad.pdf: 'PdfExtractor' object has no attribute '_validate_file'
2025-04-28 14:26:15,124 - document_processor.core.extraction.text_extractor - ERROR - text_extractor.py:155 - Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\document_processor\core\extraction\text_extractor.py", line 113, in extract
    self._validate_file(file_path, self.supported_extensions)
    ^^^^^^^^^^^^^^^^^^^
AttributeError: 'PdfExtractor' object has no attribute '_validate_file'

2025-04-28 14:26:15,124 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:159 - Trying Docling as fallback for PDF extraction after error
2025-04-28 14:26:21,458 - docling.document_converter - INFO - document_converter.py:269 - Going to convert document batch...
2025-04-28 14:26:21,458 - docling.document_converter - INFO - document_converter.py:304 - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-28 14:26:21,503 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 14:26:21,503 - docling.models.factories - INFO - __init__.py:16 - Registered ocr engines: ['easyocr', 'ocrmac', 'rapidocr', 'tesserocr', 'tesseract']
2025-04-28 14:26:21,802 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 14:26:25,826 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 14:26:29,083 - docling_ibm_models.layoutmodel.layout_predictor - DEBUG - layout_predictor.py:95 - LayoutPredictor settings: {'safe_tensors_file': 'C:\\Users\\ahmed\\.cache\\huggingface\\hub\\models--ds4sd--docling-models\\snapshots\\36bebf56681740529abd09f5473a93a69373fbf0\\model_artifacts\\layout\\model.safetensors', 'device': 'cuda', 'num_threads': 4, 'image_size': 640, 'threshold': 0.3}
2025-04-28 14:26:29,314 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 14:26:30,862 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 14:26:30,863 - docling.models.factories - INFO - __init__.py:26 - Registered picture descriptions: ['vlm', 'api']
2025-04-28 14:26:30,863 - docling.pipeline.base_pipeline - INFO - base_pipeline.py:38 - Processing document K-1-Web-Example-1744414635343_e4cc98ad.pdf
2025-04-28 14:31:44,493 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 14:31:44,493 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 14:31:44,493 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 14:31:44,522 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:31:44,523 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 14:31:44,611 - document_processor.db.database - ERROR - database.py:51 - Database initialization error: type object 'ProcessingMode' has no attribute 'TRADITIONAL'
2025-04-28 14:31:44,612 - __main__ - ERROR - main.py:170 - Error during app initialization: type object 'ProcessingMode' has no attribute 'TRADITIONAL'
2025-04-28 14:31:44,630 - __main__ - ERROR - main.py:171 - Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\main.py", line 115, in create_app
    init_db(app)
  File "A:\DhapWork\1.5LMV3\document_processor\db\database.py", line 37, in init_db
    from document_processor.db.models import Document, Entity
  File "A:\DhapWork\1.5LMV3\document_processor\db\models.py", line 15, in <module>
    class Document(Base):
  File "A:\DhapWork\1.5LMV3\document_processor\db\models.py", line 30, in Document
    processing_mode = Column(Enum(ProcessingMode), nullable=False, default=ProcessingMode.TRADITIONAL)
                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ProcessingMode' has no attribute 'TRADITIONAL'

2025-04-28 14:31:44,630 - root - ERROR - main.py:195 - Failed to start application: type object 'ProcessingMode' has no attribute 'TRADITIONAL'
2025-04-28 14:31:44,631 - root - ERROR - main.py:196 - Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\main.py", line 184, in run_app
    app = create_app()
          ^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\main.py", line 115, in create_app
    init_db(app)
  File "A:\DhapWork\1.5LMV3\document_processor\db\database.py", line 37, in init_db
    from document_processor.db.models import Document, Entity
  File "A:\DhapWork\1.5LMV3\document_processor\db\models.py", line 15, in <module>
    class Document(Base):
  File "A:\DhapWork\1.5LMV3\document_processor\db\models.py", line 30, in Document
    processing_mode = Column(Enum(ProcessingMode), nullable=False, default=ProcessingMode.TRADITIONAL)
                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ProcessingMode' has no attribute 'TRADITIONAL'

2025-04-28 14:32:40,264 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 14:32:40,264 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 14:32:40,264 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 14:32:40,277 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:32:40,278 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 14:32:40,321 - document_processor.db.database - ERROR - database.py:51 - Database initialization error: type object 'ProcessingMode' has no attribute 'TRADITIONAL'
2025-04-28 14:32:40,322 - __main__ - ERROR - main.py:170 - Error during app initialization: type object 'ProcessingMode' has no attribute 'TRADITIONAL'
2025-04-28 14:32:40,323 - __main__ - ERROR - main.py:171 - Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\main.py", line 115, in create_app
    init_db(app)
  File "A:\DhapWork\1.5LMV3\document_processor\db\database.py", line 37, in init_db
    from document_processor.db.models import Document, Entity
  File "A:\DhapWork\1.5LMV3\document_processor\db\models.py", line 15, in <module>
    class Document(Base):
  File "A:\DhapWork\1.5LMV3\document_processor\db\models.py", line 30, in Document
    processing_mode = Column(Enum(ProcessingMode), nullable=False, default=ProcessingMode.TRADITIONAL)
                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ProcessingMode' has no attribute 'TRADITIONAL'

2025-04-28 14:32:40,323 - root - ERROR - main.py:195 - Failed to start application: type object 'ProcessingMode' has no attribute 'TRADITIONAL'
2025-04-28 14:32:40,323 - root - ERROR - main.py:196 - Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\main.py", line 184, in run_app
    app = create_app()
          ^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\main.py", line 115, in create_app
    init_db(app)
  File "A:\DhapWork\1.5LMV3\document_processor\db\database.py", line 37, in init_db
    from document_processor.db.models import Document, Entity
  File "A:\DhapWork\1.5LMV3\document_processor\db\models.py", line 15, in <module>
    class Document(Base):
  File "A:\DhapWork\1.5LMV3\document_processor\db\models.py", line 30, in Document
    processing_mode = Column(Enum(ProcessingMode), nullable=False, default=ProcessingMode.TRADITIONAL)
                                                                           ^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'ProcessingMode' has no attribute 'TRADITIONAL'

2025-04-28 14:35:17,923 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 14:35:17,923 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 14:35:17,923 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 14:35:17,938 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:35:17,938 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 14:35:18,016 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 14:35:18,171 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 14:35:20,225 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 14:35:26,214 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 14:35:26,221 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_0ebbb2ab.pdf
2025-04-28 14:35:26,230 - __main__ - DEBUG - main.py:127 - Request: GET /process/K-1-Web-Example-1742592337615_0ebbb2ab.pdf
2025-04-28 14:35:26,230 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:35:26,233 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 14:35:28,851 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 14:35:28,851 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 14:35:28,851 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:35:28,852 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:95 - Targeted extractor initialized with device: cuda
2025-04-28 14:35:28,852 - document_processor.core.extraction.targeted_extractor - WARNING - targeted_extractor.py:115 - doctr not available. Install with 'pip install doctr-io'
2025-04-28 14:35:28,852 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:122 - Initializing LayoutLMv3 models
2025-04-28 14:35:30,723 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:133 - LayoutLMv3 models initialized successfully
2025-04-28 14:35:30,723 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 14:35:30,723 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_0ebbb2ab.pdf using targeted mode
2025-04-28 14:35:30,723 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 14:35:30,723 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_0ebbb2ab.pdf
2025-04-28 14:35:30,723 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 14:35:30,723 - document_processor.core.extraction.text_extractor - ERROR - text_extractor.py:154 - Error extracting from PDF A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_0ebbb2ab.pdf: 'PdfExtractor' object has no attribute '_validate_file'
2025-04-28 14:35:30,724 - document_processor.core.extraction.text_extractor - ERROR - text_extractor.py:155 - Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\document_processor\core\extraction\text_extractor.py", line 113, in extract
    self._validate_file(file_path, self.supported_extensions)
    ^^^^^^^^^^^^^^^^^^^
AttributeError: 'PdfExtractor' object has no attribute '_validate_file'

2025-04-28 14:35:30,725 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:159 - Trying Docling as fallback for PDF extraction after error
2025-04-28 14:35:34,142 - docling.document_converter - INFO - document_converter.py:269 - Going to convert document batch...
2025-04-28 14:35:34,143 - docling.document_converter - INFO - document_converter.py:304 - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-28 14:35:34,183 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 14:35:34,183 - docling.models.factories - INFO - __init__.py:16 - Registered ocr engines: ['easyocr', 'ocrmac', 'rapidocr', 'tesserocr', 'tesseract']
2025-04-28 14:35:34,263 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 14:35:36,064 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 14:35:39,776 - docling_ibm_models.layoutmodel.layout_predictor - DEBUG - layout_predictor.py:95 - LayoutPredictor settings: {'safe_tensors_file': 'C:\\Users\\ahmed\\.cache\\huggingface\\hub\\models--ds4sd--docling-models\\snapshots\\36bebf56681740529abd09f5473a93a69373fbf0\\model_artifacts\\layout\\model.safetensors', 'device': 'cuda', 'num_threads': 4, 'image_size': 640, 'threshold': 0.3}
2025-04-28 14:35:40,009 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 14:35:40,818 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 14:35:40,818 - docling.models.factories - INFO - __init__.py:26 - Registered picture descriptions: ['vlm', 'api']
2025-04-28 14:35:40,818 - docling.pipeline.base_pipeline - INFO - base_pipeline.py:38 - Processing document K-1-Web-Example-1742592337615_0ebbb2ab.pdf
2025-04-28 14:35:50,247 - docling.pipeline.base_pipeline - DEBUG - base_pipeline.py:185 - Finished converting page batch time=161215.875
2025-04-28 14:35:53,457 - docling.pipeline.base_pipeline - DEBUG - base_pipeline.py:185 - Finished converting page batch time=161219.093
2025-04-28 14:35:56,045 - docling.document_converter - INFO - document_converter.py:284 - Finished converting document K-1-Web-Example-1742592337615_0ebbb2ab.pdf in 21.95 sec.
2025-04-28 14:35:56,373 - document_processor.core.extraction.text_extractor - ERROR - text_extractor.py:245 - Docling extraction failed: 'TableItem' object has no attribute 'to_dict'
2025-04-28 14:35:56,374 - document_processor.core.extraction.text_extractor - ERROR - text_extractor.py:165 - Docling extraction failed: ('A:\\DhapWork\\1.5LMV3\\document_processor\\uploads\\K-1-Web-Example-1742592337615_0ebbb2ab.pdf', "Docling error: 'TableItem' object has no attribute 'to_dict'")
2025-04-28 14:35:56,403 - document_processor.core.extraction.text_extractor - ERROR - text_extractor.py:166 - Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\document_processor\core\extraction\text_extractor.py", line 113, in extract
    self._validate_file(file_path, self.supported_extensions)
    ^^^^^^^^^^^^^^^^^^^
AttributeError: 'PdfExtractor' object has no attribute '_validate_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\document_processor\core\extraction\text_extractor.py", line 235, in _extract_with_docling
    tables = [table.to_dict() for table in result.document.tables]
              ^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 984, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'TableItem' object has no attribute 'to_dict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\document_processor\core\extraction\text_extractor.py", line 160, in extract
    return self._extract_with_docling(file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\core\extraction\text_extractor.py", line 246, in _extract_with_docling
    raise TextExtractionError(file_path, f"Docling error: {str(e)}")
document_processor.utils.custom_exceptions.TextExtractionError: ('A:\\DhapWork\\1.5LMV3\\document_processor\\uploads\\K-1-Web-Example-1742592337615_0ebbb2ab.pdf', "Docling error: 'TableItem' object has no attribute 'to_dict'")

2025-04-28 14:35:56,404 - document_processor.core.processor_service - ERROR - processor_service.py:80 - Error processing document A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_0ebbb2ab.pdf: ('A:\\DhapWork\\1.5LMV3\\document_processor\\uploads\\K-1-Web-Example-1742592337615_0ebbb2ab.pdf', 'Both extraction methods failed. Original error: \'PdfExtractor\' object has no attribute \'_validate_file\', Fallback error: (\'A:\\\\DhapWork\\\\1.5LMV3\\\\document_processor\\\\uploads\\\\K-1-Web-Example-1742592337615_0ebbb2ab.pdf\', "Docling error: \'TableItem\' object has no attribute \'to_dict\'")', True)
2025-04-28 14:35:56,406 - document_processor.core.processor_service - ERROR - processor_service.py:81 - Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\document_processor\core\extraction\text_extractor.py", line 113, in extract
    self._validate_file(file_path, self.supported_extensions)
    ^^^^^^^^^^^^^^^^^^^
AttributeError: 'PdfExtractor' object has no attribute '_validate_file'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\document_processor\core\extraction\text_extractor.py", line 235, in _extract_with_docling
    tables = [table.to_dict() for table in result.document.tables]
              ^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\pydantic\main.py", line 984, in __getattr__
    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')
AttributeError: 'TableItem' object has no attribute 'to_dict'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\document_processor\core\extraction\text_extractor.py", line 160, in extract
    return self._extract_with_docling(file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\core\extraction\text_extractor.py", line 246, in _extract_with_docling
    raise TextExtractionError(file_path, f"Docling error: {str(e)}")
document_processor.utils.custom_exceptions.TextExtractionError: ('A:\\DhapWork\\1.5LMV3\\document_processor\\uploads\\K-1-Web-Example-1742592337615_0ebbb2ab.pdf', "Docling error: 'TableItem' object has no attribute 'to_dict'")

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "A:\DhapWork\1.5LMV3\document_processor\core\processor_service.py", line 75, in process_document
    return self._process_with_targeted(file_path)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\core\processor_service.py", line 129, in _process_with_targeted
    extraction_result = extractor.extract(file_path)
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\core\extraction\text_extractor.py", line 167, in extract
    raise TextExtractionError(file_path, f"Both extraction methods failed. Original error: {str(e)}, Fallback error: {str(docling_error)}", True)
document_processor.utils.custom_exceptions.TextExtractionError: ('A:\\DhapWork\\1.5LMV3\\document_processor\\uploads\\K-1-Web-Example-1742592337615_0ebbb2ab.pdf', 'Both extraction methods failed. Original error: \'PdfExtractor\' object has no attribute \'_validate_file\', Fallback error: (\'A:\\\\DhapWork\\\\1.5LMV3\\\\document_processor\\\\uploads\\\\K-1-Web-Example-1742592337615_0ebbb2ab.pdf\', "Docling error: \'TableItem\' object has no attribute \'to_dict\'")', True)

2025-04-28 14:35:56,426 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 14:38:24,052 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 14:38:24,052 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 14:38:24,052 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 14:38:24,068 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:38:24,069 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 14:38:24,127 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 14:38:24,274 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 14:38:25,417 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 14:38:45,282 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 14:38:45,289 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742415106007_ab4e1938.pdf
2025-04-28 14:38:45,297 - __main__ - DEBUG - main.py:127 - Request: GET /process/K-1-Web-Example-1742415106007_ab4e1938.pdf
2025-04-28 14:38:45,297 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:38:45,301 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 14:38:48,268 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 14:38:48,268 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 14:38:48,268 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:38:48,269 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:95 - Targeted extractor initialized with device: cuda
2025-04-28 14:38:48,269 - document_processor.core.extraction.targeted_extractor - WARNING - targeted_extractor.py:115 - doctr not available. Install with 'pip install doctr-io'
2025-04-28 14:38:48,269 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:122 - Initializing LayoutLMv3 models
2025-04-28 14:38:50,249 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:133 - LayoutLMv3 models initialized successfully
2025-04-28 14:38:50,250 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 14:38:50,250 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742415106007_ab4e1938.pdf using targeted mode
2025-04-28 14:38:50,250 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 14:38:50,250 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742415106007_ab4e1938.pdf
2025-04-28 14:38:50,250 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 14:38:50,250 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf']
2025-04-28 14:38:50,250 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742415106007_ab4e1938.pdf
2025-04-28 14:38:53,293 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'K1 (Schedule K-1)' with confidence 0.42
2025-04-28 14:38:53,294 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 14:38:53,294 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742415106007_ab4e1938.pdf
2025-04-28 14:38:53,294 - document_processor.core.extraction.targeted_extractor - WARNING - targeted_extractor.py:160 - doctr model not available, falling back to text-only extraction
2025-04-28 14:43:48,874 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 14:43:48,874 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 14:43:48,874 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 14:43:48,898 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:43:48,898 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 14:43:48,980 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 14:43:49,155 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 14:43:50,653 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 14:43:58,739 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 14:43:58,746 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592349824_4849a3e0.pdf
2025-04-28 14:43:58,755 - __main__ - DEBUG - main.py:127 - Request: GET /process/K-1-Web-Example-1742592349824_4849a3e0.pdf
2025-04-28 14:43:58,755 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:43:58,759 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 14:44:02,331 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 14:44:02,331 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 14:44:02,331 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:44:02,331 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:104 - Targeted extractor initialized with device: cuda
2025-04-28 14:44:02,331 - document_processor.core.extraction.targeted_extractor - WARNING - targeted_extractor.py:128 - doctr not available. Please install it with: pip install doctr-io pdf2image Pillow
2025-04-28 14:44:02,331 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:137 - Initializing LayoutLMv3 models
2025-04-28 14:44:04,389 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:148 - LayoutLMv3 models initialized successfully
2025-04-28 14:44:04,389 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 14:44:04,389 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592349824_4849a3e0.pdf using targeted mode
2025-04-28 14:44:04,390 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 14:44:04,390 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592349824_4849a3e0.pdf
2025-04-28 14:44:04,390 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 14:44:04,390 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf']
2025-04-28 14:44:04,390 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592349824_4849a3e0.pdf
2025-04-28 14:44:06,947 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'K1 (Schedule K-1)' with confidence 0.42
2025-04-28 14:44:06,948 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 14:44:06,948 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592349824_4849a3e0.pdf
2025-04-28 14:44:06,948 - document_processor.core.extraction.targeted_extractor - WARNING - targeted_extractor.py:181 - doctr model not available, falling back to text-only extraction
2025-04-28 14:52:59,721 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 14:52:59,721 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 14:52:59,722 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 14:52:59,737 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:52:59,738 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 14:52:59,788 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 14:52:59,960 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 14:53:01,856 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 14:53:08,428 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 14:53:08,435 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_617be864.pdf
2025-04-28 14:53:08,443 - __main__ - DEBUG - main.py:127 - Request: GET /process/K-1-Web-Example-1742592337615_617be864.pdf
2025-04-28 14:53:08,444 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:53:08,447 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 14:53:11,909 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 14:53:11,909 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 14:53:11,909 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:53:11,909 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:104 - Targeted extractor initialized with device: cuda
2025-04-28 14:53:11,909 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:110 - Initializing doctr OCR model
2025-04-28 14:53:23,994 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:119 - doctr OCR model initialized successfully
2025-04-28 14:53:23,995 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:137 - Initializing LayoutLMv3 models
2025-04-28 14:53:25,943 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:148 - LayoutLMv3 models initialized successfully
2025-04-28 14:53:25,944 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 14:53:25,944 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_617be864.pdf using targeted mode
2025-04-28 14:53:25,944 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 14:53:25,944 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_617be864.pdf
2025-04-28 14:53:25,944 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 14:53:25,944 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf']
2025-04-28 14:53:25,944 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_617be864.pdf
2025-04-28 14:53:27,794 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'K1 (Schedule K-1)' with confidence 0.42
2025-04-28 14:53:27,796 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 14:53:27,796 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_617be864.pdf
2025-04-28 14:53:27,796 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:199 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742592337615_617be864.pdf
2025-04-28 14:54:35,397 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 14:54:41,340 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 14:54:41,344 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_3941d078.png
2025-04-28 14:54:41,352 - __main__ - DEBUG - main.py:127 - Request: GET /process/w2_3941d078.png
2025-04-28 14:54:41,352 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:54:41,355 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 14:54:44,156 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 14:54:44,156 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 14:54:44,156 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 14:54:44,157 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:104 - Targeted extractor initialized with device: cuda
2025-04-28 14:54:44,157 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:110 - Initializing doctr OCR model
2025-04-28 14:54:44,546 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 14:54:45,614 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 14:54:45,683 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:119 - doctr OCR model initialized successfully
2025-04-28 14:54:45,684 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:137 - Initializing LayoutLMv3 models
2025-04-28 14:54:47,647 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:148 - LayoutLMv3 models initialized successfully
2025-04-28 14:54:47,647 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 14:54:47,647 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\w2_3941d078.png using targeted mode
2025-04-28 14:54:47,647 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 14:54:47,647 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_3941d078.png
2025-04-28 14:54:47,647 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 14:54:47,648 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.png', '.jpg', '.jpeg', '.tiff', '.tif']
2025-04-28 14:54:47,648 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_3941d078.png
2025-04-28 14:54:50,233 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-28 14:54:50,233 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 41 65536
2025-04-28 14:54:50,241 - PIL.Image - DEBUG - Image.py:409 - Importing BlpImagePlugin
2025-04-28 14:54:50,243 - PIL.Image - DEBUG - Image.py:409 - Importing BmpImagePlugin
2025-04-28 14:54:50,243 - PIL.Image - DEBUG - Image.py:409 - Importing BufrStubImagePlugin
2025-04-28 14:54:50,244 - PIL.Image - DEBUG - Image.py:409 - Importing CurImagePlugin
2025-04-28 14:54:50,244 - PIL.Image - DEBUG - Image.py:409 - Importing DcxImagePlugin
2025-04-28 14:54:50,246 - PIL.Image - DEBUG - Image.py:409 - Importing DdsImagePlugin
2025-04-28 14:54:50,248 - PIL.Image - DEBUG - Image.py:409 - Importing EpsImagePlugin
2025-04-28 14:54:50,251 - PIL.Image - DEBUG - Image.py:409 - Importing FitsImagePlugin
2025-04-28 14:54:50,252 - PIL.Image - DEBUG - Image.py:409 - Importing FliImagePlugin
2025-04-28 14:54:50,252 - PIL.Image - DEBUG - Image.py:409 - Importing FpxImagePlugin
2025-04-28 14:54:50,254 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import FpxImagePlugin: No module named 'olefile'
2025-04-28 14:54:50,254 - PIL.Image - DEBUG - Image.py:409 - Importing FtexImagePlugin
2025-04-28 14:54:50,255 - PIL.Image - DEBUG - Image.py:409 - Importing GbrImagePlugin
2025-04-28 14:54:50,256 - PIL.Image - DEBUG - Image.py:409 - Importing GifImagePlugin
2025-04-28 14:54:50,256 - PIL.Image - DEBUG - Image.py:409 - Importing GribStubImagePlugin
2025-04-28 14:54:50,256 - PIL.Image - DEBUG - Image.py:409 - Importing Hdf5StubImagePlugin
2025-04-28 14:54:50,257 - PIL.Image - DEBUG - Image.py:409 - Importing IcnsImagePlugin
2025-04-28 14:54:50,261 - PIL.Image - DEBUG - Image.py:409 - Importing IcoImagePlugin
2025-04-28 14:54:50,261 - PIL.Image - DEBUG - Image.py:409 - Importing ImImagePlugin
2025-04-28 14:54:50,263 - PIL.Image - DEBUG - Image.py:409 - Importing ImtImagePlugin
2025-04-28 14:54:50,264 - PIL.Image - DEBUG - Image.py:409 - Importing IptcImagePlugin
2025-04-28 14:54:50,266 - PIL.Image - DEBUG - Image.py:409 - Importing JpegImagePlugin
2025-04-28 14:54:50,266 - PIL.Image - DEBUG - Image.py:409 - Importing Jpeg2KImagePlugin
2025-04-28 14:54:50,266 - PIL.Image - DEBUG - Image.py:409 - Importing McIdasImagePlugin
2025-04-28 14:54:50,266 - PIL.Image - DEBUG - Image.py:409 - Importing MicImagePlugin
2025-04-28 14:54:50,268 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import MicImagePlugin: No module named 'olefile'
2025-04-28 14:54:50,268 - PIL.Image - DEBUG - Image.py:409 - Importing MpegImagePlugin
2025-04-28 14:54:50,268 - PIL.Image - DEBUG - Image.py:409 - Importing MpoImagePlugin
2025-04-28 14:54:50,271 - PIL.Image - DEBUG - Image.py:409 - Importing MspImagePlugin
2025-04-28 14:54:50,272 - PIL.Image - DEBUG - Image.py:409 - Importing PalmImagePlugin
2025-04-28 14:54:50,273 - PIL.Image - DEBUG - Image.py:409 - Importing PcdImagePlugin
2025-04-28 14:54:50,273 - PIL.Image - DEBUG - Image.py:409 - Importing PcxImagePlugin
2025-04-28 14:54:50,274 - PIL.Image - DEBUG - Image.py:409 - Importing PdfImagePlugin
2025-04-28 14:54:50,295 - PIL.Image - DEBUG - Image.py:409 - Importing PixarImagePlugin
2025-04-28 14:54:50,296 - PIL.Image - DEBUG - Image.py:409 - Importing PngImagePlugin
2025-04-28 14:54:50,296 - PIL.Image - DEBUG - Image.py:409 - Importing PpmImagePlugin
2025-04-28 14:54:50,296 - PIL.Image - DEBUG - Image.py:409 - Importing PsdImagePlugin
2025-04-28 14:54:50,298 - PIL.Image - DEBUG - Image.py:409 - Importing QoiImagePlugin
2025-04-28 14:54:50,299 - PIL.Image - DEBUG - Image.py:409 - Importing SgiImagePlugin
2025-04-28 14:54:50,300 - PIL.Image - DEBUG - Image.py:409 - Importing SpiderImagePlugin
2025-04-28 14:54:50,301 - PIL.Image - DEBUG - Image.py:409 - Importing SunImagePlugin
2025-04-28 14:54:50,302 - PIL.Image - DEBUG - Image.py:409 - Importing TgaImagePlugin
2025-04-28 14:54:50,303 - PIL.Image - DEBUG - Image.py:409 - Importing TiffImagePlugin
2025-04-28 14:54:50,303 - PIL.Image - DEBUG - Image.py:409 - Importing WebPImagePlugin
2025-04-28 14:54:50,328 - PIL.Image - DEBUG - Image.py:409 - Importing WmfImagePlugin
2025-04-28 14:54:50,329 - PIL.Image - DEBUG - Image.py:409 - Importing XbmImagePlugin
2025-04-28 14:54:50,332 - PIL.Image - DEBUG - Image.py:409 - Importing XpmImagePlugin
2025-04-28 14:54:50,335 - PIL.Image - DEBUG - Image.py:409 - Importing XVThumbImagePlugin
2025-04-28 14:54:50,354 - docling.document_converter - INFO - document_converter.py:269 - Going to convert document batch...
2025-04-28 14:54:50,355 - docling.document_converter - INFO - document_converter.py:304 - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-28 14:54:50,391 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 14:54:50,391 - docling.models.factories - INFO - __init__.py:16 - Registered ocr engines: ['easyocr', 'ocrmac', 'rapidocr', 'tesserocr', 'tesseract']
2025-04-28 14:54:50,451 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 14:54:52,144 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 14:54:54,999 - docling_ibm_models.layoutmodel.layout_predictor - DEBUG - layout_predictor.py:95 - LayoutPredictor settings: {'safe_tensors_file': 'C:\\Users\\ahmed\\.cache\\huggingface\\hub\\models--ds4sd--docling-models\\snapshots\\36bebf56681740529abd09f5473a93a69373fbf0\\model_artifacts\\layout\\model.safetensors', 'device': 'cuda', 'num_threads': 4, 'image_size': 640, 'threshold': 0.3}
2025-04-28 14:54:55,224 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 14:54:55,942 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 14:54:55,942 - docling.models.factories - INFO - __init__.py:26 - Registered picture descriptions: ['vlm', 'api']
2025-04-28 14:54:55,942 - docling.pipeline.base_pipeline - INFO - base_pipeline.py:38 - Processing document w2_3941d078.png
2025-04-28 14:54:59,798 - docling.pipeline.base_pipeline - DEBUG - base_pipeline.py:185 - Finished converting page batch time=162365.421
2025-04-28 14:54:59,802 - docling.document_converter - INFO - document_converter.py:284 - Finished converting document w2_3941d078.png in 9.59 sec.
2025-04-28 14:54:59,847 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'W1 (Form W-1)' with confidence 0.48
2025-04-28 14:54:59,847 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 14:54:59,847 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_3941d078.png
2025-04-28 14:54:59,847 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:199 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_3941d078.png
2025-04-28 15:02:01,697 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 15:02:01,698 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 15:02:01,698 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 15:02:01,715 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:02:01,715 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 15:02:01,769 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 15:02:01,904 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 15:05:01,998 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 15:05:08,894 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 15:05:08,897 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742600799155_20583a82.pdf
2025-04-28 15:05:08,905 - __main__ - DEBUG - main.py:127 - Request: GET /process/K-1-Web-Example-1742600799155_20583a82.pdf
2025-04-28 15:05:08,905 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:05:08,908 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 15:05:12,481 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 15:05:12,482 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 15:05:12,482 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:05:12,482 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:104 - Targeted extractor initialized with device: cuda
2025-04-28 15:05:12,482 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:110 - Initializing doctr OCR model
2025-04-28 15:05:12,861 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 15:05:13,979 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 15:05:14,084 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:119 - doctr OCR model initialized successfully
2025-04-28 15:05:14,084 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:137 - Initializing LayoutLMv3 models
2025-04-28 15:05:16,172 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:148 - LayoutLMv3 models initialized successfully
2025-04-28 15:05:16,173 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 15:05:16,173 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742600799155_20583a82.pdf using targeted mode
2025-04-28 15:05:16,173 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:05:16,173 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742600799155_20583a82.pdf
2025-04-28 15:05:16,173 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 15:05:16,173 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf']
2025-04-28 15:05:16,173 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742600799155_20583a82.pdf
2025-04-28 15:05:18,149 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'K1 (Schedule K-1)' with confidence 0.42
2025-04-28 15:05:18,150 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:05:18,150 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742600799155_20583a82.pdf
2025-04-28 15:05:18,150 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:199 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742600799155_20583a82.pdf
2025-04-28 15:05:21,447 - __main__ - DEBUG - main.py:127 - Request: GET /A:/DhapWork/1.5LMV3/document_processor/uploads/K-1-Web-Example-1742600799155_20583a82.pdf
2025-04-28 15:05:21,448 - main - ERROR - app.py:875 - Exception on /A:/DhapWork/1.5LMV3/document_processor/uploads/K-1-Web-Example-1742600799155_20583a82.pdf [GET]
Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html
2025-04-28 15:05:21,524 - document_processor.web.error_handlers - ERROR - error_handlers.py:30 - Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-04-28 15:05:21,554 - werkzeug - ERROR - _internal.py:97 - Error on request:
Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 860, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\web\error_handlers.py", line 36, in internal_error
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-28 15:07:54,140 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 15:07:54,140 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 15:07:54,140 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 15:07:54,155 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:07:54,156 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 15:07:54,205 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 15:07:54,349 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 15:07:55,507 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 15:08:01,435 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 15:08:01,443 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_5c1a0e67.png
2025-04-28 15:08:01,455 - __main__ - DEBUG - main.py:127 - Request: GET /process/w2_5c1a0e67.png
2025-04-28 15:08:01,455 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:08:01,459 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 15:08:04,814 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 15:08:04,815 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 15:08:04,815 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:08:04,815 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:104 - Targeted extractor initialized with device: cuda
2025-04-28 15:08:04,815 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:110 - Initializing doctr OCR model
2025-04-28 15:08:05,312 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 15:08:06,622 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 15:08:06,739 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:119 - doctr OCR model initialized successfully
2025-04-28 15:08:06,740 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:137 - Initializing LayoutLMv3 models
2025-04-28 15:08:08,777 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:148 - LayoutLMv3 models initialized successfully
2025-04-28 15:08:08,778 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 15:08:08,778 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\w2_5c1a0e67.png using targeted mode
2025-04-28 15:08:08,778 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:08:08,778 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_5c1a0e67.png
2025-04-28 15:08:08,778 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 15:08:08,778 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.png', '.jpg', '.jpeg', '.tiff', '.tif']
2025-04-28 15:08:08,778 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_5c1a0e67.png
2025-04-28 15:08:11,449 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-28 15:08:11,449 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 41 65536
2025-04-28 15:08:11,457 - PIL.Image - DEBUG - Image.py:409 - Importing BlpImagePlugin
2025-04-28 15:08:11,458 - PIL.Image - DEBUG - Image.py:409 - Importing BmpImagePlugin
2025-04-28 15:08:11,458 - PIL.Image - DEBUG - Image.py:409 - Importing BufrStubImagePlugin
2025-04-28 15:08:11,459 - PIL.Image - DEBUG - Image.py:409 - Importing CurImagePlugin
2025-04-28 15:08:11,459 - PIL.Image - DEBUG - Image.py:409 - Importing DcxImagePlugin
2025-04-28 15:08:11,460 - PIL.Image - DEBUG - Image.py:409 - Importing DdsImagePlugin
2025-04-28 15:08:11,462 - PIL.Image - DEBUG - Image.py:409 - Importing EpsImagePlugin
2025-04-28 15:08:11,463 - PIL.Image - DEBUG - Image.py:409 - Importing FitsImagePlugin
2025-04-28 15:08:11,464 - PIL.Image - DEBUG - Image.py:409 - Importing FliImagePlugin
2025-04-28 15:08:11,464 - PIL.Image - DEBUG - Image.py:409 - Importing FpxImagePlugin
2025-04-28 15:08:11,465 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import FpxImagePlugin: No module named 'olefile'
2025-04-28 15:08:11,465 - PIL.Image - DEBUG - Image.py:409 - Importing FtexImagePlugin
2025-04-28 15:08:11,466 - PIL.Image - DEBUG - Image.py:409 - Importing GbrImagePlugin
2025-04-28 15:08:11,466 - PIL.Image - DEBUG - Image.py:409 - Importing GifImagePlugin
2025-04-28 15:08:11,466 - PIL.Image - DEBUG - Image.py:409 - Importing GribStubImagePlugin
2025-04-28 15:08:11,467 - PIL.Image - DEBUG - Image.py:409 - Importing Hdf5StubImagePlugin
2025-04-28 15:08:11,467 - PIL.Image - DEBUG - Image.py:409 - Importing IcnsImagePlugin
2025-04-28 15:08:11,468 - PIL.Image - DEBUG - Image.py:409 - Importing IcoImagePlugin
2025-04-28 15:08:11,469 - PIL.Image - DEBUG - Image.py:409 - Importing ImImagePlugin
2025-04-28 15:08:11,470 - PIL.Image - DEBUG - Image.py:409 - Importing ImtImagePlugin
2025-04-28 15:08:11,471 - PIL.Image - DEBUG - Image.py:409 - Importing IptcImagePlugin
2025-04-28 15:08:11,471 - PIL.Image - DEBUG - Image.py:409 - Importing JpegImagePlugin
2025-04-28 15:08:11,471 - PIL.Image - DEBUG - Image.py:409 - Importing Jpeg2KImagePlugin
2025-04-28 15:08:11,472 - PIL.Image - DEBUG - Image.py:409 - Importing McIdasImagePlugin
2025-04-28 15:08:11,472 - PIL.Image - DEBUG - Image.py:409 - Importing MicImagePlugin
2025-04-28 15:08:11,473 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import MicImagePlugin: No module named 'olefile'
2025-04-28 15:08:11,473 - PIL.Image - DEBUG - Image.py:409 - Importing MpegImagePlugin
2025-04-28 15:08:11,473 - PIL.Image - DEBUG - Image.py:409 - Importing MpoImagePlugin
2025-04-28 15:08:11,475 - PIL.Image - DEBUG - Image.py:409 - Importing MspImagePlugin
2025-04-28 15:08:11,475 - PIL.Image - DEBUG - Image.py:409 - Importing PalmImagePlugin
2025-04-28 15:08:11,476 - PIL.Image - DEBUG - Image.py:409 - Importing PcdImagePlugin
2025-04-28 15:08:11,476 - PIL.Image - DEBUG - Image.py:409 - Importing PcxImagePlugin
2025-04-28 15:08:11,476 - PIL.Image - DEBUG - Image.py:409 - Importing PdfImagePlugin
2025-04-28 15:08:11,497 - PIL.Image - DEBUG - Image.py:409 - Importing PixarImagePlugin
2025-04-28 15:08:11,497 - PIL.Image - DEBUG - Image.py:409 - Importing PngImagePlugin
2025-04-28 15:08:11,497 - PIL.Image - DEBUG - Image.py:409 - Importing PpmImagePlugin
2025-04-28 15:08:11,497 - PIL.Image - DEBUG - Image.py:409 - Importing PsdImagePlugin
2025-04-28 15:08:11,498 - PIL.Image - DEBUG - Image.py:409 - Importing QoiImagePlugin
2025-04-28 15:08:11,498 - PIL.Image - DEBUG - Image.py:409 - Importing SgiImagePlugin
2025-04-28 15:08:11,498 - PIL.Image - DEBUG - Image.py:409 - Importing SpiderImagePlugin
2025-04-28 15:08:11,500 - PIL.Image - DEBUG - Image.py:409 - Importing SunImagePlugin
2025-04-28 15:08:11,500 - PIL.Image - DEBUG - Image.py:409 - Importing TgaImagePlugin
2025-04-28 15:08:11,501 - PIL.Image - DEBUG - Image.py:409 - Importing TiffImagePlugin
2025-04-28 15:08:11,501 - PIL.Image - DEBUG - Image.py:409 - Importing WebPImagePlugin
2025-04-28 15:08:11,502 - PIL.Image - DEBUG - Image.py:409 - Importing WmfImagePlugin
2025-04-28 15:08:11,502 - PIL.Image - DEBUG - Image.py:409 - Importing XbmImagePlugin
2025-04-28 15:08:11,506 - PIL.Image - DEBUG - Image.py:409 - Importing XpmImagePlugin
2025-04-28 15:08:11,506 - PIL.Image - DEBUG - Image.py:409 - Importing XVThumbImagePlugin
2025-04-28 15:08:11,526 - docling.document_converter - INFO - document_converter.py:269 - Going to convert document batch...
2025-04-28 15:08:11,527 - docling.document_converter - INFO - document_converter.py:304 - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-28 15:08:11,569 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 15:08:11,569 - docling.models.factories - INFO - __init__.py:16 - Registered ocr engines: ['easyocr', 'ocrmac', 'rapidocr', 'tesserocr', 'tesseract']
2025-04-28 15:08:11,625 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:08:13,136 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:08:15,978 - docling_ibm_models.layoutmodel.layout_predictor - DEBUG - layout_predictor.py:95 - LayoutPredictor settings: {'safe_tensors_file': 'C:\\Users\\ahmed\\.cache\\huggingface\\hub\\models--ds4sd--docling-models\\snapshots\\36bebf56681740529abd09f5473a93a69373fbf0\\model_artifacts\\layout\\model.safetensors', 'device': 'cuda', 'num_threads': 4, 'image_size': 640, 'threshold': 0.3}
2025-04-28 15:08:16,211 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:08:16,747 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 15:08:16,747 - docling.models.factories - INFO - __init__.py:26 - Registered picture descriptions: ['vlm', 'api']
2025-04-28 15:08:16,747 - docling.pipeline.base_pipeline - INFO - base_pipeline.py:38 - Processing document w2_5c1a0e67.png
2025-04-28 15:08:20,695 - docling.pipeline.base_pipeline - DEBUG - base_pipeline.py:185 - Finished converting page batch time=163166.265
2025-04-28 15:08:20,857 - docling.document_converter - INFO - document_converter.py:284 - Finished converting document w2_5c1a0e67.png in 9.44 sec.
2025-04-28 15:08:20,901 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'W1 (Form W-1)' with confidence 0.48
2025-04-28 15:08:20,901 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:08:20,902 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_5c1a0e67.png
2025-04-28 15:08:20,902 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:199 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_5c1a0e67.png
2025-04-28 15:08:21,375 - __main__ - DEBUG - main.py:127 - Request: GET /A:/DhapWork/1.5LMV3/document_processor/uploads/w2_5c1a0e67.png
2025-04-28 15:08:21,377 - main - ERROR - app.py:875 - Exception on /A:/DhapWork/1.5LMV3/document_processor/uploads/w2_5c1a0e67.png [GET]
Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html
2025-04-28 15:08:21,379 - document_processor.web.error_handlers - ERROR - error_handlers.py:30 - Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-04-28 15:08:21,386 - werkzeug - ERROR - _internal.py:97 - Error on request:
Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 860, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\web\error_handlers.py", line 36, in internal_error
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-28 15:08:21,418 - __main__ - DEBUG - main.py:127 - Request: GET /A:/DhapWork/1.5LMV3/document_processor/uploads/w2_5c1a0e67.png
2025-04-28 15:08:21,418 - main - ERROR - app.py:875 - Exception on /A:/DhapWork/1.5LMV3/document_processor/uploads/w2_5c1a0e67.png [GET]
Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html
2025-04-28 15:08:21,420 - document_processor.web.error_handlers - ERROR - error_handlers.py:30 - Internal server error: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
2025-04-28 15:08:21,422 - werkzeug - ERROR - _internal.py:97 - Error on request:
Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\routing\map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 802, in handle_user_exception
    return self.handle_http_exception(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 777, in handle_http_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\web\error_handlers.py", line 26, in not_found_error
    return render_template('errors/404.html'), 404
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/404.html

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 370, in run_wsgi
    execute(self.server.app)
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\werkzeug\serving.py", line 331, in execute
    application_iter = app(environ, start_response)
                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1536, in __call__
    return self.wsgi_app(environ, start_response)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 1514, in wsgi_app
    response = self.handle_exception(e)
               ^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\app.py", line 860, in handle_exception
    server_error = self.ensure_sync(handler)(server_error)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "A:\DhapWork\1.5LMV3\document_processor\web\error_handlers.py", line 36, in internal_error
    return render_template('errors/500.html'), 500
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1087, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 1016, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\environment.py", line 975, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\jinja2\loaders.py", line 126, in load
    source, filename, uptodate = self.get_source(environment, name)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 65, in get_source
    return self._get_source_fast(environment, template)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "c:\Users\ahmed\AppData\Local\Programs\Python\Python312\Lib\site-packages\flask\templating.py", line 99, in _get_source_fast
    raise TemplateNotFound(template)
jinja2.exceptions.TemplateNotFound: errors/500.html
2025-04-28 15:13:00,607 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 15:13:00,607 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 15:13:00,607 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 15:13:00,622 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:13:00,622 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 15:13:00,674 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 15:13:00,838 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 15:13:03,709 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 15:13:08,737 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 15:13:08,749 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_32a11146.png
2025-04-28 15:13:08,760 - __main__ - DEBUG - main.py:127 - Request: GET /process/w2_32a11146.png
2025-04-28 15:13:08,761 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:13:08,764 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 15:13:11,449 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 15:13:11,449 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 15:13:11,450 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:13:11,450 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:104 - Targeted extractor initialized with device: cuda
2025-04-28 15:13:11,450 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:110 - Initializing doctr OCR model
2025-04-28 15:13:11,872 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 15:13:13,040 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 15:13:13,137 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:119 - doctr OCR model initialized successfully
2025-04-28 15:13:13,137 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:137 - Initializing LayoutLMv3 models
2025-04-28 15:13:15,104 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:148 - LayoutLMv3 models initialized successfully
2025-04-28 15:13:15,104 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 15:13:15,104 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\w2_32a11146.png using targeted mode
2025-04-28 15:13:15,104 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:13:15,104 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_32a11146.png
2025-04-28 15:13:15,105 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 15:13:15,105 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.png', '.jpg', '.jpeg', '.tiff', '.tif']
2025-04-28 15:13:15,105 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_32a11146.png
2025-04-28 15:13:17,984 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-28 15:13:17,985 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 41 65536
2025-04-28 15:13:17,992 - PIL.Image - DEBUG - Image.py:409 - Importing BlpImagePlugin
2025-04-28 15:13:17,993 - PIL.Image - DEBUG - Image.py:409 - Importing BmpImagePlugin
2025-04-28 15:13:17,993 - PIL.Image - DEBUG - Image.py:409 - Importing BufrStubImagePlugin
2025-04-28 15:13:17,994 - PIL.Image - DEBUG - Image.py:409 - Importing CurImagePlugin
2025-04-28 15:13:17,994 - PIL.Image - DEBUG - Image.py:409 - Importing DcxImagePlugin
2025-04-28 15:13:17,996 - PIL.Image - DEBUG - Image.py:409 - Importing DdsImagePlugin
2025-04-28 15:13:17,997 - PIL.Image - DEBUG - Image.py:409 - Importing EpsImagePlugin
2025-04-28 15:13:17,999 - PIL.Image - DEBUG - Image.py:409 - Importing FitsImagePlugin
2025-04-28 15:13:17,999 - PIL.Image - DEBUG - Image.py:409 - Importing FliImagePlugin
2025-04-28 15:13:18,000 - PIL.Image - DEBUG - Image.py:409 - Importing FpxImagePlugin
2025-04-28 15:13:18,001 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import FpxImagePlugin: No module named 'olefile'
2025-04-28 15:13:18,001 - PIL.Image - DEBUG - Image.py:409 - Importing FtexImagePlugin
2025-04-28 15:13:18,001 - PIL.Image - DEBUG - Image.py:409 - Importing GbrImagePlugin
2025-04-28 15:13:18,002 - PIL.Image - DEBUG - Image.py:409 - Importing GifImagePlugin
2025-04-28 15:13:18,002 - PIL.Image - DEBUG - Image.py:409 - Importing GribStubImagePlugin
2025-04-28 15:13:18,002 - PIL.Image - DEBUG - Image.py:409 - Importing Hdf5StubImagePlugin
2025-04-28 15:13:18,002 - PIL.Image - DEBUG - Image.py:409 - Importing IcnsImagePlugin
2025-04-28 15:13:18,003 - PIL.Image - DEBUG - Image.py:409 - Importing IcoImagePlugin
2025-04-28 15:13:18,004 - PIL.Image - DEBUG - Image.py:409 - Importing ImImagePlugin
2025-04-28 15:13:18,005 - PIL.Image - DEBUG - Image.py:409 - Importing ImtImagePlugin
2025-04-28 15:13:18,006 - PIL.Image - DEBUG - Image.py:409 - Importing IptcImagePlugin
2025-04-28 15:13:18,006 - PIL.Image - DEBUG - Image.py:409 - Importing JpegImagePlugin
2025-04-28 15:13:18,006 - PIL.Image - DEBUG - Image.py:409 - Importing Jpeg2KImagePlugin
2025-04-28 15:13:18,006 - PIL.Image - DEBUG - Image.py:409 - Importing McIdasImagePlugin
2025-04-28 15:13:18,007 - PIL.Image - DEBUG - Image.py:409 - Importing MicImagePlugin
2025-04-28 15:13:18,008 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import MicImagePlugin: No module named 'olefile'
2025-04-28 15:13:18,008 - PIL.Image - DEBUG - Image.py:409 - Importing MpegImagePlugin
2025-04-28 15:13:18,008 - PIL.Image - DEBUG - Image.py:409 - Importing MpoImagePlugin
2025-04-28 15:13:18,009 - PIL.Image - DEBUG - Image.py:409 - Importing MspImagePlugin
2025-04-28 15:13:18,010 - PIL.Image - DEBUG - Image.py:409 - Importing PalmImagePlugin
2025-04-28 15:13:18,011 - PIL.Image - DEBUG - Image.py:409 - Importing PcdImagePlugin
2025-04-28 15:13:18,011 - PIL.Image - DEBUG - Image.py:409 - Importing PcxImagePlugin
2025-04-28 15:13:18,011 - PIL.Image - DEBUG - Image.py:409 - Importing PdfImagePlugin
2025-04-28 15:13:18,031 - PIL.Image - DEBUG - Image.py:409 - Importing PixarImagePlugin
2025-04-28 15:13:18,031 - PIL.Image - DEBUG - Image.py:409 - Importing PngImagePlugin
2025-04-28 15:13:18,031 - PIL.Image - DEBUG - Image.py:409 - Importing PpmImagePlugin
2025-04-28 15:13:18,031 - PIL.Image - DEBUG - Image.py:409 - Importing PsdImagePlugin
2025-04-28 15:13:18,033 - PIL.Image - DEBUG - Image.py:409 - Importing QoiImagePlugin
2025-04-28 15:13:18,033 - PIL.Image - DEBUG - Image.py:409 - Importing SgiImagePlugin
2025-04-28 15:13:18,034 - PIL.Image - DEBUG - Image.py:409 - Importing SpiderImagePlugin
2025-04-28 15:13:18,034 - PIL.Image - DEBUG - Image.py:409 - Importing SunImagePlugin
2025-04-28 15:13:18,035 - PIL.Image - DEBUG - Image.py:409 - Importing TgaImagePlugin
2025-04-28 15:13:18,035 - PIL.Image - DEBUG - Image.py:409 - Importing TiffImagePlugin
2025-04-28 15:13:18,035 - PIL.Image - DEBUG - Image.py:409 - Importing WebPImagePlugin
2025-04-28 15:13:18,036 - PIL.Image - DEBUG - Image.py:409 - Importing WmfImagePlugin
2025-04-28 15:13:18,037 - PIL.Image - DEBUG - Image.py:409 - Importing XbmImagePlugin
2025-04-28 15:13:18,040 - PIL.Image - DEBUG - Image.py:409 - Importing XpmImagePlugin
2025-04-28 15:13:18,041 - PIL.Image - DEBUG - Image.py:409 - Importing XVThumbImagePlugin
2025-04-28 15:13:18,064 - docling.document_converter - INFO - document_converter.py:269 - Going to convert document batch...
2025-04-28 15:13:18,064 - docling.document_converter - INFO - document_converter.py:304 - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-28 15:13:18,103 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 15:13:18,103 - docling.models.factories - INFO - __init__.py:16 - Registered ocr engines: ['easyocr', 'ocrmac', 'rapidocr', 'tesserocr', 'tesseract']
2025-04-28 15:13:18,173 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:13:19,672 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:13:22,633 - docling_ibm_models.layoutmodel.layout_predictor - DEBUG - layout_predictor.py:95 - LayoutPredictor settings: {'safe_tensors_file': 'C:\\Users\\ahmed\\.cache\\huggingface\\hub\\models--ds4sd--docling-models\\snapshots\\36bebf56681740529abd09f5473a93a69373fbf0\\model_artifacts\\layout\\model.safetensors', 'device': 'cuda', 'num_threads': 4, 'image_size': 640, 'threshold': 0.3}
2025-04-28 15:13:22,873 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:13:23,385 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 15:13:23,385 - docling.models.factories - INFO - __init__.py:26 - Registered picture descriptions: ['vlm', 'api']
2025-04-28 15:13:23,385 - docling.pipeline.base_pipeline - INFO - base_pipeline.py:38 - Processing document w2_32a11146.png
2025-04-28 15:13:27,621 - docling.pipeline.base_pipeline - DEBUG - base_pipeline.py:185 - Finished converting page batch time=163473.125
2025-04-28 15:13:27,790 - docling.document_converter - INFO - document_converter.py:284 - Finished converting document w2_32a11146.png in 9.83 sec.
2025-04-28 15:13:27,836 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'W1 (Form W-1)' with confidence 0.48
2025-04-28 15:13:27,837 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:13:27,837 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_32a11146.png
2025-04-28 15:13:27,837 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:199 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_32a11146.png
2025-04-28 15:13:28,399 - __main__ - DEBUG - main.py:127 - Request: GET /A:/DhapWork/1.5LMV3/document_processor/uploads/w2_32a11146.png
2025-04-28 15:23:56,344 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 15:23:56,345 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 15:23:56,345 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 15:23:56,360 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:23:56,361 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 15:23:56,411 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 15:23:56,558 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 15:23:57,846 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 15:24:02,936 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 15:24:02,948 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_646e9511.pdf
2025-04-28 15:24:02,955 - __main__ - DEBUG - main.py:127 - Request: GET /process/K-1-Web-Example-1742412925169_646e9511.pdf
2025-04-28 15:24:02,956 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:24:02,960 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 15:24:05,923 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 15:24:05,923 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 15:24:05,923 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:24:05,923 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:96 - Targeted extractor initialized with device: cuda
2025-04-28 15:24:05,923 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:102 - Initializing doctr OCR model
2025-04-28 15:24:06,422 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 15:24:07,870 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 15:24:07,995 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - doctr OCR model initialized successfully
2025-04-28 15:24:07,995 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:123 - Initializing LayoutLMv3 models
2025-04-28 15:24:10,252 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:134 - LayoutLMv3 models initialized successfully
2025-04-28 15:24:10,253 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 15:24:10,253 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_646e9511.pdf using targeted mode
2025-04-28 15:24:10,253 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:24:10,253 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_646e9511.pdf
2025-04-28 15:24:10,253 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:24:10,253 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_646e9511.pdf
2025-04-28 15:24:10,253 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:165 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_646e9511.pdf
2025-04-28 15:24:13,564 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:195 - Detected document type: K1 (Schedule K-1) with 13 keyword matches
2025-04-28 15:24:13,582 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'K1 (Schedule K-1)' with confidence 0.45
2025-04-28 15:24:13,582 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:24:13,582 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_646e9511.pdf
2025-04-28 15:24:13,582 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:165 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742412925169_646e9511.pdf
2025-04-28 15:24:16,604 - __main__ - DEBUG - main.py:127 - Request: GET /A:/DhapWork/1.5LMV3/document_processor/uploads/K-1-Web-Example-1742412925169_646e9511.pdf
2025-04-28 15:25:25,641 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 15:25:54,343 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 15:25:55,189 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 15:26:01,158 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 15:26:01,162 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_75b9b704.png
2025-04-28 15:26:01,171 - __main__ - DEBUG - main.py:127 - Request: GET /process/w2_75b9b704.png
2025-04-28 15:26:01,171 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:26:01,177 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 15:26:03,451 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 15:26:03,451 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 15:26:03,452 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:26:03,452 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:96 - Targeted extractor initialized with device: cuda
2025-04-28 15:26:03,453 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:102 - Initializing doctr OCR model
2025-04-28 15:26:04,011 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 15:26:05,434 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 15:26:05,614 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - doctr OCR model initialized successfully
2025-04-28 15:26:05,615 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:123 - Initializing LayoutLMv3 models
2025-04-28 15:26:07,549 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:134 - LayoutLMv3 models initialized successfully
2025-04-28 15:26:07,549 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 15:26:07,549 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\w2_75b9b704.png using targeted mode
2025-04-28 15:26:07,549 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:26:07,549 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_75b9b704.png
2025-04-28 15:26:07,549 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:26:07,549 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_75b9b704.png
2025-04-28 15:26:07,549 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:165 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_75b9b704.png
2025-04-28 15:26:08,005 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:195 - Detected document type: K1 (Schedule K-1) with 3 keyword matches
2025-04-28 15:26:08,020 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'W1 (Form W-1)' with confidence 0.50
2025-04-28 15:26:08,020 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:26:08,020 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_75b9b704.png
2025-04-28 15:26:08,020 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:165 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_75b9b704.png
2025-04-28 15:26:08,429 - __main__ - DEBUG - main.py:127 - Request: GET /A:/DhapWork/1.5LMV3/document_processor/uploads/w2_75b9b704.png
2025-04-28 15:26:56,279 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 15:27:01,232 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 15:27:01,239 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_501edb4e.png
2025-04-28 15:27:01,247 - __main__ - DEBUG - main.py:127 - Request: GET /process/w2_501edb4e.png
2025-04-28 15:27:01,248 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:27:01,251 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 15:27:03,896 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 15:27:03,897 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 15:27:03,897 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:27:03,897 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:96 - Targeted extractor initialized with device: cuda
2025-04-28 15:27:03,897 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:102 - Initializing doctr OCR model
2025-04-28 15:27:04,396 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 15:27:05,762 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 15:27:05,847 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - doctr OCR model initialized successfully
2025-04-28 15:27:05,848 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:123 - Initializing LayoutLMv3 models
2025-04-28 15:27:07,770 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:134 - LayoutLMv3 models initialized successfully
2025-04-28 15:27:07,771 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 15:27:07,771 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\w2_501edb4e.png using bulk mode
2025-04-28 15:27:07,771 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:27:07,771 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_501edb4e.png
2025-04-28 15:27:07,771 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 15:27:07,771 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.png', '.jpg', '.jpeg', '.tiff', '.tif']
2025-04-28 15:27:07,771 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_501edb4e.png
2025-04-28 15:27:10,745 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-28 15:27:10,745 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 41 65536
2025-04-28 15:27:10,753 - PIL.Image - DEBUG - Image.py:409 - Importing BlpImagePlugin
2025-04-28 15:27:10,754 - PIL.Image - DEBUG - Image.py:409 - Importing BmpImagePlugin
2025-04-28 15:27:10,754 - PIL.Image - DEBUG - Image.py:409 - Importing BufrStubImagePlugin
2025-04-28 15:27:10,755 - PIL.Image - DEBUG - Image.py:409 - Importing CurImagePlugin
2025-04-28 15:27:10,755 - PIL.Image - DEBUG - Image.py:409 - Importing DcxImagePlugin
2025-04-28 15:27:10,756 - PIL.Image - DEBUG - Image.py:409 - Importing DdsImagePlugin
2025-04-28 15:27:10,758 - PIL.Image - DEBUG - Image.py:409 - Importing EpsImagePlugin
2025-04-28 15:27:10,760 - PIL.Image - DEBUG - Image.py:409 - Importing FitsImagePlugin
2025-04-28 15:27:10,760 - PIL.Image - DEBUG - Image.py:409 - Importing FliImagePlugin
2025-04-28 15:27:10,761 - PIL.Image - DEBUG - Image.py:409 - Importing FpxImagePlugin
2025-04-28 15:27:10,761 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import FpxImagePlugin: No module named 'olefile'
2025-04-28 15:27:10,762 - PIL.Image - DEBUG - Image.py:409 - Importing FtexImagePlugin
2025-04-28 15:27:10,762 - PIL.Image - DEBUG - Image.py:409 - Importing GbrImagePlugin
2025-04-28 15:27:10,762 - PIL.Image - DEBUG - Image.py:409 - Importing GifImagePlugin
2025-04-28 15:27:10,762 - PIL.Image - DEBUG - Image.py:409 - Importing GribStubImagePlugin
2025-04-28 15:27:10,763 - PIL.Image - DEBUG - Image.py:409 - Importing Hdf5StubImagePlugin
2025-04-28 15:27:10,763 - PIL.Image - DEBUG - Image.py:409 - Importing IcnsImagePlugin
2025-04-28 15:27:10,765 - PIL.Image - DEBUG - Image.py:409 - Importing IcoImagePlugin
2025-04-28 15:27:10,765 - PIL.Image - DEBUG - Image.py:409 - Importing ImImagePlugin
2025-04-28 15:27:10,766 - PIL.Image - DEBUG - Image.py:409 - Importing ImtImagePlugin
2025-04-28 15:27:10,767 - PIL.Image - DEBUG - Image.py:409 - Importing IptcImagePlugin
2025-04-28 15:27:10,768 - PIL.Image - DEBUG - Image.py:409 - Importing JpegImagePlugin
2025-04-28 15:27:10,768 - PIL.Image - DEBUG - Image.py:409 - Importing Jpeg2KImagePlugin
2025-04-28 15:27:10,768 - PIL.Image - DEBUG - Image.py:409 - Importing McIdasImagePlugin
2025-04-28 15:27:10,769 - PIL.Image - DEBUG - Image.py:409 - Importing MicImagePlugin
2025-04-28 15:27:10,770 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import MicImagePlugin: No module named 'olefile'
2025-04-28 15:27:10,770 - PIL.Image - DEBUG - Image.py:409 - Importing MpegImagePlugin
2025-04-28 15:27:10,771 - PIL.Image - DEBUG - Image.py:409 - Importing MpoImagePlugin
2025-04-28 15:27:10,773 - PIL.Image - DEBUG - Image.py:409 - Importing MspImagePlugin
2025-04-28 15:27:10,774 - PIL.Image - DEBUG - Image.py:409 - Importing PalmImagePlugin
2025-04-28 15:27:10,776 - PIL.Image - DEBUG - Image.py:409 - Importing PcdImagePlugin
2025-04-28 15:27:10,777 - PIL.Image - DEBUG - Image.py:409 - Importing PcxImagePlugin
2025-04-28 15:27:10,777 - PIL.Image - DEBUG - Image.py:409 - Importing PdfImagePlugin
2025-04-28 15:27:10,802 - PIL.Image - DEBUG - Image.py:409 - Importing PixarImagePlugin
2025-04-28 15:27:10,803 - PIL.Image - DEBUG - Image.py:409 - Importing PngImagePlugin
2025-04-28 15:27:10,803 - PIL.Image - DEBUG - Image.py:409 - Importing PpmImagePlugin
2025-04-28 15:27:10,803 - PIL.Image - DEBUG - Image.py:409 - Importing PsdImagePlugin
2025-04-28 15:27:10,804 - PIL.Image - DEBUG - Image.py:409 - Importing QoiImagePlugin
2025-04-28 15:27:10,805 - PIL.Image - DEBUG - Image.py:409 - Importing SgiImagePlugin
2025-04-28 15:27:10,805 - PIL.Image - DEBUG - Image.py:409 - Importing SpiderImagePlugin
2025-04-28 15:27:10,806 - PIL.Image - DEBUG - Image.py:409 - Importing SunImagePlugin
2025-04-28 15:27:10,806 - PIL.Image - DEBUG - Image.py:409 - Importing TgaImagePlugin
2025-04-28 15:27:10,807 - PIL.Image - DEBUG - Image.py:409 - Importing TiffImagePlugin
2025-04-28 15:27:10,807 - PIL.Image - DEBUG - Image.py:409 - Importing WebPImagePlugin
2025-04-28 15:27:10,808 - PIL.Image - DEBUG - Image.py:409 - Importing WmfImagePlugin
2025-04-28 15:27:10,809 - PIL.Image - DEBUG - Image.py:409 - Importing XbmImagePlugin
2025-04-28 15:27:10,813 - PIL.Image - DEBUG - Image.py:409 - Importing XpmImagePlugin
2025-04-28 15:27:10,815 - PIL.Image - DEBUG - Image.py:409 - Importing XVThumbImagePlugin
2025-04-28 15:27:10,838 - docling.document_converter - INFO - document_converter.py:269 - Going to convert document batch...
2025-04-28 15:27:10,839 - docling.document_converter - INFO - document_converter.py:304 - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-28 15:27:10,875 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 15:27:10,875 - docling.models.factories - INFO - __init__.py:16 - Registered ocr engines: ['easyocr', 'ocrmac', 'rapidocr', 'tesserocr', 'tesseract']
2025-04-28 15:27:10,936 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:27:12,505 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:27:15,290 - docling_ibm_models.layoutmodel.layout_predictor - DEBUG - layout_predictor.py:95 - LayoutPredictor settings: {'safe_tensors_file': 'C:\\Users\\ahmed\\.cache\\huggingface\\hub\\models--ds4sd--docling-models\\snapshots\\36bebf56681740529abd09f5473a93a69373fbf0\\model_artifacts\\layout\\model.safetensors', 'device': 'cuda', 'num_threads': 4, 'image_size': 640, 'threshold': 0.3}
2025-04-28 15:27:15,516 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:27:15,943 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 15:27:15,943 - docling.models.factories - INFO - __init__.py:26 - Registered picture descriptions: ['vlm', 'api']
2025-04-28 15:27:15,944 - docling.pipeline.base_pipeline - INFO - base_pipeline.py:38 - Processing document w2_501edb4e.png
2025-04-28 15:27:19,666 - docling.pipeline.base_pipeline - DEBUG - base_pipeline.py:185 - Finished converting page batch time=164305.062
2025-04-28 15:27:19,670 - docling.document_converter - INFO - document_converter.py:284 - Finished converting document w2_501edb4e.png in 9.11 sec.
2025-04-28 15:27:19,714 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'W1 (Form W-1)' with confidence 0.48
2025-04-28 15:27:19,749 - __main__ - DEBUG - main.py:127 - Request: GET /A:/DhapWork/1.5LMV3/document_processor/uploads/w2_501edb4e.png
2025-04-28 15:27:19,796 - __main__ - DEBUG - main.py:127 - Request: GET /A:/DhapWork/1.5LMV3/document_processor/uploads/w2_501edb4e.png
2025-04-28 15:27:44,965 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 15:27:55,119 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 15:27:55,127 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742503524372_f558440b.pdf
2025-04-28 15:27:55,136 - __main__ - DEBUG - main.py:127 - Request: GET /process/K-1-Web-Example-1742503524372_f558440b.pdf
2025-04-28 15:27:55,136 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:27:55,141 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 15:27:57,451 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 15:27:57,451 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 15:27:57,452 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:27:57,452 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:96 - Targeted extractor initialized with device: cuda
2025-04-28 15:27:57,452 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:102 - Initializing doctr OCR model
2025-04-28 15:27:57,917 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 15:27:59,321 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 15:27:59,500 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - doctr OCR model initialized successfully
2025-04-28 15:27:59,500 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:123 - Initializing LayoutLMv3 models
2025-04-28 15:28:01,788 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:134 - LayoutLMv3 models initialized successfully
2025-04-28 15:28:01,788 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 15:28:01,788 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742503524372_f558440b.pdf using targeted mode
2025-04-28 15:28:01,788 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:28:01,788 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742503524372_f558440b.pdf
2025-04-28 15:28:01,788 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:28:01,788 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742503524372_f558440b.pdf
2025-04-28 15:28:01,788 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:165 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742503524372_f558440b.pdf
2025-04-28 15:28:04,765 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:195 - Detected document type: K1 (Schedule K-1) with 13 keyword matches
2025-04-28 15:28:04,779 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'K1 (Schedule K-1)' with confidence 0.45
2025-04-28 15:28:04,779 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:28:04,779 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742503524372_f558440b.pdf
2025-04-28 15:28:04,780 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:165 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742503524372_f558440b.pdf
2025-04-28 15:28:07,725 - __main__ - DEBUG - main.py:127 - Request: GET /A:/DhapWork/1.5LMV3/document_processor/uploads/K-1-Web-Example-1742503524372_f558440b.pdf
2025-04-28 15:36:26,821 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 15:36:26,821 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 15:36:26,822 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 15:36:26,844 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:36:26,844 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 15:36:26,928 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 15:36:27,142 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 15:36:28,419 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 15:36:33,466 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 15:36:33,471 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742425781553_12679b8a.pdf
2025-04-28 15:36:33,478 - __main__ - DEBUG - main.py:127 - Request: GET /process/K-1-Web-Example-1742425781553_12679b8a.pdf
2025-04-28 15:36:33,478 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:36:33,481 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 15:36:36,431 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 15:36:36,431 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 15:36:36,432 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:36:36,432 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:96 - Targeted extractor initialized with device: cuda
2025-04-28 15:36:36,432 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:102 - Initializing doctr OCR model
2025-04-28 15:36:36,828 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 15:36:37,895 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 15:36:37,982 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - doctr OCR model initialized successfully
2025-04-28 15:36:37,982 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 15:36:37,982 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742425781553_12679b8a.pdf using targeted mode
2025-04-28 15:36:37,983 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:36:37,983 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742425781553_12679b8a.pdf
2025-04-28 15:36:37,983 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 15:36:37,983 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf']
2025-04-28 15:36:37,983 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742425781553_12679b8a.pdf
2025-04-28 15:36:39,844 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'K1 (Schedule K-1)' with confidence 0.42
2025-04-28 15:36:39,845 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:36:39,845 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742425781553_12679b8a.pdf
2025-04-28 15:36:39,845 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:141 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742425781553_12679b8a.pdf
2025-04-28 15:37:11,270 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 15:37:18,728 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 15:37:18,734 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_301442f2.png
2025-04-28 15:37:18,743 - __main__ - DEBUG - main.py:127 - Request: GET /process/w2_301442f2.png
2025-04-28 15:37:18,744 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:37:18,747 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 15:37:21,783 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 15:37:21,783 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 15:37:21,783 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:37:21,783 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:96 - Targeted extractor initialized with device: cuda
2025-04-28 15:37:21,783 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:102 - Initializing doctr OCR model
2025-04-28 15:37:22,306 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 15:37:23,632 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 15:37:23,737 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - doctr OCR model initialized successfully
2025-04-28 15:37:23,738 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 15:37:23,738 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\w2_301442f2.png using targeted mode
2025-04-28 15:37:23,738 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:37:23,738 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_301442f2.png
2025-04-28 15:37:23,738 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 15:37:23,738 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.png', '.jpg', '.jpeg', '.tiff', '.tif']
2025-04-28 15:37:23,739 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_301442f2.png
2025-04-28 15:37:26,817 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-28 15:37:26,818 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 41 65536
2025-04-28 15:37:26,826 - PIL.Image - DEBUG - Image.py:409 - Importing BlpImagePlugin
2025-04-28 15:37:26,828 - PIL.Image - DEBUG - Image.py:409 - Importing BmpImagePlugin
2025-04-28 15:37:26,828 - PIL.Image - DEBUG - Image.py:409 - Importing BufrStubImagePlugin
2025-04-28 15:37:26,829 - PIL.Image - DEBUG - Image.py:409 - Importing CurImagePlugin
2025-04-28 15:37:26,829 - PIL.Image - DEBUG - Image.py:409 - Importing DcxImagePlugin
2025-04-28 15:37:26,830 - PIL.Image - DEBUG - Image.py:409 - Importing DdsImagePlugin
2025-04-28 15:37:26,832 - PIL.Image - DEBUG - Image.py:409 - Importing EpsImagePlugin
2025-04-28 15:37:26,833 - PIL.Image - DEBUG - Image.py:409 - Importing FitsImagePlugin
2025-04-28 15:37:26,834 - PIL.Image - DEBUG - Image.py:409 - Importing FliImagePlugin
2025-04-28 15:37:26,834 - PIL.Image - DEBUG - Image.py:409 - Importing FpxImagePlugin
2025-04-28 15:37:26,835 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import FpxImagePlugin: No module named 'olefile'
2025-04-28 15:37:26,835 - PIL.Image - DEBUG - Image.py:409 - Importing FtexImagePlugin
2025-04-28 15:37:26,836 - PIL.Image - DEBUG - Image.py:409 - Importing GbrImagePlugin
2025-04-28 15:37:26,836 - PIL.Image - DEBUG - Image.py:409 - Importing GifImagePlugin
2025-04-28 15:37:26,836 - PIL.Image - DEBUG - Image.py:409 - Importing GribStubImagePlugin
2025-04-28 15:37:26,836 - PIL.Image - DEBUG - Image.py:409 - Importing Hdf5StubImagePlugin
2025-04-28 15:37:26,837 - PIL.Image - DEBUG - Image.py:409 - Importing IcnsImagePlugin
2025-04-28 15:37:26,838 - PIL.Image - DEBUG - Image.py:409 - Importing IcoImagePlugin
2025-04-28 15:37:26,839 - PIL.Image - DEBUG - Image.py:409 - Importing ImImagePlugin
2025-04-28 15:37:26,840 - PIL.Image - DEBUG - Image.py:409 - Importing ImtImagePlugin
2025-04-28 15:37:26,840 - PIL.Image - DEBUG - Image.py:409 - Importing IptcImagePlugin
2025-04-28 15:37:26,841 - PIL.Image - DEBUG - Image.py:409 - Importing JpegImagePlugin
2025-04-28 15:37:26,841 - PIL.Image - DEBUG - Image.py:409 - Importing Jpeg2KImagePlugin
2025-04-28 15:37:26,841 - PIL.Image - DEBUG - Image.py:409 - Importing McIdasImagePlugin
2025-04-28 15:37:26,842 - PIL.Image - DEBUG - Image.py:409 - Importing MicImagePlugin
2025-04-28 15:37:26,843 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import MicImagePlugin: No module named 'olefile'
2025-04-28 15:37:26,843 - PIL.Image - DEBUG - Image.py:409 - Importing MpegImagePlugin
2025-04-28 15:37:26,843 - PIL.Image - DEBUG - Image.py:409 - Importing MpoImagePlugin
2025-04-28 15:37:26,845 - PIL.Image - DEBUG - Image.py:409 - Importing MspImagePlugin
2025-04-28 15:37:26,846 - PIL.Image - DEBUG - Image.py:409 - Importing PalmImagePlugin
2025-04-28 15:37:26,847 - PIL.Image - DEBUG - Image.py:409 - Importing PcdImagePlugin
2025-04-28 15:37:26,847 - PIL.Image - DEBUG - Image.py:409 - Importing PcxImagePlugin
2025-04-28 15:37:26,847 - PIL.Image - DEBUG - Image.py:409 - Importing PdfImagePlugin
2025-04-28 15:37:26,874 - PIL.Image - DEBUG - Image.py:409 - Importing PixarImagePlugin
2025-04-28 15:37:26,875 - PIL.Image - DEBUG - Image.py:409 - Importing PngImagePlugin
2025-04-28 15:37:26,875 - PIL.Image - DEBUG - Image.py:409 - Importing PpmImagePlugin
2025-04-28 15:37:26,875 - PIL.Image - DEBUG - Image.py:409 - Importing PsdImagePlugin
2025-04-28 15:37:26,876 - PIL.Image - DEBUG - Image.py:409 - Importing QoiImagePlugin
2025-04-28 15:37:26,877 - PIL.Image - DEBUG - Image.py:409 - Importing SgiImagePlugin
2025-04-28 15:37:26,878 - PIL.Image - DEBUG - Image.py:409 - Importing SpiderImagePlugin
2025-04-28 15:37:26,878 - PIL.Image - DEBUG - Image.py:409 - Importing SunImagePlugin
2025-04-28 15:37:26,879 - PIL.Image - DEBUG - Image.py:409 - Importing TgaImagePlugin
2025-04-28 15:37:26,879 - PIL.Image - DEBUG - Image.py:409 - Importing TiffImagePlugin
2025-04-28 15:37:26,879 - PIL.Image - DEBUG - Image.py:409 - Importing WebPImagePlugin
2025-04-28 15:37:26,880 - PIL.Image - DEBUG - Image.py:409 - Importing WmfImagePlugin
2025-04-28 15:37:26,881 - PIL.Image - DEBUG - Image.py:409 - Importing XbmImagePlugin
2025-04-28 15:37:26,884 - PIL.Image - DEBUG - Image.py:409 - Importing XpmImagePlugin
2025-04-28 15:37:26,886 - PIL.Image - DEBUG - Image.py:409 - Importing XVThumbImagePlugin
2025-04-28 15:37:26,908 - docling.document_converter - INFO - document_converter.py:269 - Going to convert document batch...
2025-04-28 15:37:26,909 - docling.document_converter - INFO - document_converter.py:304 - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-28 15:37:26,950 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 15:37:26,950 - docling.models.factories - INFO - __init__.py:16 - Registered ocr engines: ['easyocr', 'ocrmac', 'rapidocr', 'tesserocr', 'tesseract']
2025-04-28 15:37:27,021 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:37:28,905 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:37:32,587 - docling_ibm_models.layoutmodel.layout_predictor - DEBUG - layout_predictor.py:95 - LayoutPredictor settings: {'safe_tensors_file': 'C:\\Users\\ahmed\\.cache\\huggingface\\hub\\models--ds4sd--docling-models\\snapshots\\36bebf56681740529abd09f5473a93a69373fbf0\\model_artifacts\\layout\\model.safetensors', 'device': 'cuda', 'num_threads': 4, 'image_size': 640, 'threshold': 0.3}
2025-04-28 15:37:32,823 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:37:33,611 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 15:37:33,612 - docling.models.factories - INFO - __init__.py:26 - Registered picture descriptions: ['vlm', 'api']
2025-04-28 15:37:33,612 - docling.pipeline.base_pipeline - INFO - base_pipeline.py:38 - Processing document w2_301442f2.png
2025-04-28 15:37:37,506 - docling.pipeline.base_pipeline - DEBUG - base_pipeline.py:185 - Finished converting page batch time=164922.828
2025-04-28 15:37:37,509 - docling.document_converter - INFO - document_converter.py:284 - Finished converting document w2_301442f2.png in 10.72 sec.
2025-04-28 15:37:37,551 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'W1 (Form W-1)' with confidence 0.48
2025-04-28 15:37:37,551 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:37:37,551 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_301442f2.png
2025-04-28 15:37:37,551 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:141 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_301442f2.png
2025-04-28 15:38:00,637 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 15:38:05,507 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 15:38:05,514 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_9f8b95a5.png
2025-04-28 15:38:05,522 - __main__ - DEBUG - main.py:127 - Request: GET /process/w2_9f8b95a5.png
2025-04-28 15:38:05,522 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:38:05,525 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 15:38:08,212 - document_processor.core.classification.classifier - INFO - classifier.py:60 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 15:38:08,212 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 15:38:08,213 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 15:38:08,213 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:96 - Targeted extractor initialized with device: cuda
2025-04-28 15:38:08,213 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:102 - Initializing doctr OCR model
2025-04-28 15:38:08,928 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 15:38:10,283 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 15:38:10,386 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - doctr OCR model initialized successfully
2025-04-28 15:38:10,387 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 15:38:10,387 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\w2_9f8b95a5.png using bulk mode
2025-04-28 15:38:10,387 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 15:38:10,387 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_9f8b95a5.png
2025-04-28 15:38:10,387 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 15:38:10,387 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.png', '.jpg', '.jpeg', '.tiff', '.tif']
2025-04-28 15:38:10,388 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_9f8b95a5.png
2025-04-28 15:38:10,615 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-28 15:38:10,615 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 41 65536
2025-04-28 15:38:10,630 - docling.document_converter - INFO - document_converter.py:269 - Going to convert document batch...
2025-04-28 15:38:10,630 - docling.document_converter - INFO - document_converter.py:304 - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-28 15:38:10,631 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:38:12,528 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:38:13,554 - docling_ibm_models.layoutmodel.layout_predictor - DEBUG - layout_predictor.py:95 - LayoutPredictor settings: {'safe_tensors_file': 'C:\\Users\\ahmed\\.cache\\huggingface\\hub\\models--ds4sd--docling-models\\snapshots\\36bebf56681740529abd09f5473a93a69373fbf0\\model_artifacts\\layout\\model.safetensors', 'device': 'cuda', 'num_threads': 4, 'image_size': 640, 'threshold': 0.3}
2025-04-28 15:38:13,790 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 15:38:14,686 - docling.pipeline.base_pipeline - INFO - base_pipeline.py:38 - Processing document w2_9f8b95a5.png
2025-04-28 15:38:18,963 - docling.pipeline.base_pipeline - DEBUG - base_pipeline.py:185 - Finished converting page batch time=164964.296
2025-04-28 15:38:18,967 - docling.document_converter - INFO - document_converter.py:284 - Finished converting document w2_9f8b95a5.png in 8.56 sec.
2025-04-28 15:38:18,990 - document_processor.core.classification.classifier - INFO - classifier.py:96 - Document classified as 'W1 (Form W-1)' with confidence 0.48
2025-04-28 17:58:33,121 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 17:58:33,122 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 17:58:33,122 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 17:58:33,137 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 17:58:33,137 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 17:58:33,194 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 17:58:33,495 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 17:58:36,269 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 17:58:41,726 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 17:58:41,734 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_c542b94f.png
2025-04-28 17:58:41,744 - __main__ - DEBUG - main.py:127 - Request: GET /process/w2_c542b94f.png
2025-04-28 17:58:41,745 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 17:58:41,748 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 17:58:44,602 - document_processor.core.classification.classifier - INFO - classifier.py:62 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 17:58:44,604 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 17:58:44,604 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 17:58:44,604 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:96 - Targeted extractor initialized with device: cuda
2025-04-28 17:58:44,604 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:102 - Initializing doctr OCR model
2025-04-28 17:58:45,132 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 17:58:46,507 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 17:58:46,627 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - doctr OCR model initialized successfully
2025-04-28 17:58:46,628 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 17:58:46,628 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\w2_c542b94f.png using targeted mode
2025-04-28 17:58:46,628 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 17:58:46,629 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_c542b94f.png
2025-04-28 17:58:46,629 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 17:58:46,629 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.png', '.jpg', '.jpeg', '.tiff', '.tif']
2025-04-28 17:58:46,629 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_c542b94f.png
2025-04-28 17:58:49,842 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-28 17:58:49,842 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 41 65536
2025-04-28 17:58:49,850 - PIL.Image - DEBUG - Image.py:409 - Importing BlpImagePlugin
2025-04-28 17:58:49,852 - PIL.Image - DEBUG - Image.py:409 - Importing BmpImagePlugin
2025-04-28 17:58:49,852 - PIL.Image - DEBUG - Image.py:409 - Importing BufrStubImagePlugin
2025-04-28 17:58:49,853 - PIL.Image - DEBUG - Image.py:409 - Importing CurImagePlugin
2025-04-28 17:58:49,853 - PIL.Image - DEBUG - Image.py:409 - Importing DcxImagePlugin
2025-04-28 17:58:49,854 - PIL.Image - DEBUG - Image.py:409 - Importing DdsImagePlugin
2025-04-28 17:58:49,856 - PIL.Image - DEBUG - Image.py:409 - Importing EpsImagePlugin
2025-04-28 17:58:49,858 - PIL.Image - DEBUG - Image.py:409 - Importing FitsImagePlugin
2025-04-28 17:58:49,858 - PIL.Image - DEBUG - Image.py:409 - Importing FliImagePlugin
2025-04-28 17:58:49,859 - PIL.Image - DEBUG - Image.py:409 - Importing FpxImagePlugin
2025-04-28 17:58:49,860 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import FpxImagePlugin: No module named 'olefile'
2025-04-28 17:58:49,860 - PIL.Image - DEBUG - Image.py:409 - Importing FtexImagePlugin
2025-04-28 17:58:49,861 - PIL.Image - DEBUG - Image.py:409 - Importing GbrImagePlugin
2025-04-28 17:58:49,861 - PIL.Image - DEBUG - Image.py:409 - Importing GifImagePlugin
2025-04-28 17:58:49,861 - PIL.Image - DEBUG - Image.py:409 - Importing GribStubImagePlugin
2025-04-28 17:58:49,863 - PIL.Image - DEBUG - Image.py:409 - Importing Hdf5StubImagePlugin
2025-04-28 17:58:49,864 - PIL.Image - DEBUG - Image.py:409 - Importing IcnsImagePlugin
2025-04-28 17:58:49,867 - PIL.Image - DEBUG - Image.py:409 - Importing IcoImagePlugin
2025-04-28 17:58:49,867 - PIL.Image - DEBUG - Image.py:409 - Importing ImImagePlugin
2025-04-28 17:58:49,868 - PIL.Image - DEBUG - Image.py:409 - Importing ImtImagePlugin
2025-04-28 17:58:49,869 - PIL.Image - DEBUG - Image.py:409 - Importing IptcImagePlugin
2025-04-28 17:58:49,870 - PIL.Image - DEBUG - Image.py:409 - Importing JpegImagePlugin
2025-04-28 17:58:49,870 - PIL.Image - DEBUG - Image.py:409 - Importing Jpeg2KImagePlugin
2025-04-28 17:58:49,870 - PIL.Image - DEBUG - Image.py:409 - Importing McIdasImagePlugin
2025-04-28 17:58:49,871 - PIL.Image - DEBUG - Image.py:409 - Importing MicImagePlugin
2025-04-28 17:58:49,872 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import MicImagePlugin: No module named 'olefile'
2025-04-28 17:58:49,872 - PIL.Image - DEBUG - Image.py:409 - Importing MpegImagePlugin
2025-04-28 17:58:49,872 - PIL.Image - DEBUG - Image.py:409 - Importing MpoImagePlugin
2025-04-28 17:58:49,874 - PIL.Image - DEBUG - Image.py:409 - Importing MspImagePlugin
2025-04-28 17:58:49,875 - PIL.Image - DEBUG - Image.py:409 - Importing PalmImagePlugin
2025-04-28 17:58:49,875 - PIL.Image - DEBUG - Image.py:409 - Importing PcdImagePlugin
2025-04-28 17:58:49,876 - PIL.Image - DEBUG - Image.py:409 - Importing PcxImagePlugin
2025-04-28 17:58:49,876 - PIL.Image - DEBUG - Image.py:409 - Importing PdfImagePlugin
2025-04-28 17:58:49,916 - PIL.Image - DEBUG - Image.py:409 - Importing PixarImagePlugin
2025-04-28 17:58:49,917 - PIL.Image - DEBUG - Image.py:409 - Importing PngImagePlugin
2025-04-28 17:58:49,917 - PIL.Image - DEBUG - Image.py:409 - Importing PpmImagePlugin
2025-04-28 17:58:49,917 - PIL.Image - DEBUG - Image.py:409 - Importing PsdImagePlugin
2025-04-28 17:58:49,920 - PIL.Image - DEBUG - Image.py:409 - Importing QoiImagePlugin
2025-04-28 17:58:49,921 - PIL.Image - DEBUG - Image.py:409 - Importing SgiImagePlugin
2025-04-28 17:58:49,922 - PIL.Image - DEBUG - Image.py:409 - Importing SpiderImagePlugin
2025-04-28 17:58:49,923 - PIL.Image - DEBUG - Image.py:409 - Importing SunImagePlugin
2025-04-28 17:58:49,924 - PIL.Image - DEBUG - Image.py:409 - Importing TgaImagePlugin
2025-04-28 17:58:49,925 - PIL.Image - DEBUG - Image.py:409 - Importing TiffImagePlugin
2025-04-28 17:58:49,925 - PIL.Image - DEBUG - Image.py:409 - Importing WebPImagePlugin
2025-04-28 17:58:49,928 - PIL.Image - DEBUG - Image.py:409 - Importing WmfImagePlugin
2025-04-28 17:58:49,929 - PIL.Image - DEBUG - Image.py:409 - Importing XbmImagePlugin
2025-04-28 17:58:49,936 - PIL.Image - DEBUG - Image.py:409 - Importing XpmImagePlugin
2025-04-28 17:58:49,939 - PIL.Image - DEBUG - Image.py:409 - Importing XVThumbImagePlugin
2025-04-28 17:58:49,976 - docling.document_converter - INFO - document_converter.py:269 - Going to convert document batch...
2025-04-28 17:58:49,976 - docling.document_converter - INFO - document_converter.py:304 - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-28 17:58:50,014 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 17:58:50,015 - docling.models.factories - INFO - __init__.py:16 - Registered ocr engines: ['easyocr', 'ocrmac', 'rapidocr', 'tesserocr', 'tesseract']
2025-04-28 17:58:50,099 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 17:58:51,877 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 17:58:55,231 - docling_ibm_models.layoutmodel.layout_predictor - DEBUG - layout_predictor.py:95 - LayoutPredictor settings: {'safe_tensors_file': 'C:\\Users\\ahmed\\.cache\\huggingface\\hub\\models--ds4sd--docling-models\\snapshots\\36bebf56681740529abd09f5473a93a69373fbf0\\model_artifacts\\layout\\model.safetensors', 'device': 'cuda', 'num_threads': 4, 'image_size': 640, 'threshold': 0.3}
2025-04-28 17:58:55,474 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 17:58:56,194 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 17:58:56,195 - docling.models.factories - INFO - __init__.py:26 - Registered picture descriptions: ['vlm', 'api']
2025-04-28 17:58:56,195 - docling.pipeline.base_pipeline - INFO - base_pipeline.py:38 - Processing document w2_c542b94f.png
2025-04-28 17:59:00,792 - docling.pipeline.base_pipeline - DEBUG - base_pipeline.py:185 - Finished converting page batch time=173405.843
2025-04-28 17:59:00,796 - docling.document_converter - INFO - document_converter.py:284 - Finished converting document w2_c542b94f.png in 10.98 sec.
2025-04-28 17:59:00,841 - document_processor.core.classification.classifier - INFO - classifier.py:98 - Document classified as 'W2 (Form W-2)' with confidence 0.50
2025-04-28 17:59:00,841 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 17:59:00,841 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_c542b94f.png
2025-04-28 17:59:00,841 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:141 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_c542b94f.png
2025-04-28 17:59:11,652 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 17:59:16,506 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 17:59:16,514 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742423505342_7d8963a5.pdf
2025-04-28 17:59:16,521 - __main__ - DEBUG - main.py:127 - Request: GET /process/K-1-Web-Example-1742423505342_7d8963a5.pdf
2025-04-28 17:59:16,521 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 17:59:16,524 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 17:59:19,254 - document_processor.core.classification.classifier - INFO - classifier.py:62 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 17:59:19,254 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 17:59:19,255 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 17:59:19,255 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:96 - Targeted extractor initialized with device: cuda
2025-04-28 17:59:19,255 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:102 - Initializing doctr OCR model
2025-04-28 17:59:19,710 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 17:59:21,130 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 17:59:21,285 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - doctr OCR model initialized successfully
2025-04-28 17:59:21,285 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 17:59:21,286 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742423505342_7d8963a5.pdf using targeted mode
2025-04-28 17:59:21,286 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 17:59:21,286 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742423505342_7d8963a5.pdf
2025-04-28 17:59:21,286 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 17:59:21,286 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf']
2025-04-28 17:59:21,286 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742423505342_7d8963a5.pdf
2025-04-28 17:59:24,116 - document_processor.core.classification.classifier - INFO - classifier.py:98 - Document classified as 'K1 (Schedule K-1)' with confidence 0.42
2025-04-28 17:59:24,117 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 17:59:24,117 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742423505342_7d8963a5.pdf
2025-04-28 17:59:24,117 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:141 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\K-1-Web-Example-1742423505342_7d8963a5.pdf
2025-04-28 18:01:29,429 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 18:01:29,429 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5LMV3\document_processor\web\templates
2025-04-28 18:01:29,430 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5LMV3\document_processor\uploads
2025-04-28 18:01:29,443 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 18:01:29,443 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 18:01:29,495 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5LMV3\document_processor\document_processor.db
2025-04-28 18:01:29,656 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 18:01:33,206 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 18:01:38,593 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 18:01:38,600 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_bbf776bd.png
2025-04-28 18:01:38,606 - __main__ - DEBUG - main.py:127 - Request: GET /process/w2_bbf776bd.png
2025-04-28 18:01:38,607 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 18:01:38,611 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 18:01:41,618 - document_processor.core.classification.classifier - INFO - classifier.py:62 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 18:01:41,619 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 18:01:41,619 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 18:01:41,619 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:96 - Targeted extractor initialized with device: cuda
2025-04-28 18:01:41,619 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:102 - Initializing doctr OCR model
2025-04-28 18:01:42,158 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 18:01:43,585 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 18:01:43,704 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - doctr OCR model initialized successfully
2025-04-28 18:01:43,704 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 18:01:43,705 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5LMV3\document_processor\uploads\w2_bbf776bd.png using targeted mode
2025-04-28 18:01:43,705 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 18:01:43,705 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_bbf776bd.png
2025-04-28 18:01:43,705 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 18:01:43,705 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.png', '.jpg', '.jpeg', '.tiff', '.tif']
2025-04-28 18:01:43,705 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_bbf776bd.png
2025-04-28 18:01:47,087 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-28 18:01:47,087 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 41 65536
2025-04-28 18:01:47,096 - PIL.Image - DEBUG - Image.py:409 - Importing BlpImagePlugin
2025-04-28 18:01:47,099 - PIL.Image - DEBUG - Image.py:409 - Importing BmpImagePlugin
2025-04-28 18:01:47,099 - PIL.Image - DEBUG - Image.py:409 - Importing BufrStubImagePlugin
2025-04-28 18:01:47,101 - PIL.Image - DEBUG - Image.py:409 - Importing CurImagePlugin
2025-04-28 18:01:47,102 - PIL.Image - DEBUG - Image.py:409 - Importing DcxImagePlugin
2025-04-28 18:01:47,104 - PIL.Image - DEBUG - Image.py:409 - Importing DdsImagePlugin
2025-04-28 18:01:47,110 - PIL.Image - DEBUG - Image.py:409 - Importing EpsImagePlugin
2025-04-28 18:01:47,113 - PIL.Image - DEBUG - Image.py:409 - Importing FitsImagePlugin
2025-04-28 18:01:47,114 - PIL.Image - DEBUG - Image.py:409 - Importing FliImagePlugin
2025-04-28 18:01:47,116 - PIL.Image - DEBUG - Image.py:409 - Importing FpxImagePlugin
2025-04-28 18:01:47,118 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import FpxImagePlugin: No module named 'olefile'
2025-04-28 18:01:47,118 - PIL.Image - DEBUG - Image.py:409 - Importing FtexImagePlugin
2025-04-28 18:01:47,118 - PIL.Image - DEBUG - Image.py:409 - Importing GbrImagePlugin
2025-04-28 18:01:47,120 - PIL.Image - DEBUG - Image.py:409 - Importing GifImagePlugin
2025-04-28 18:01:47,120 - PIL.Image - DEBUG - Image.py:409 - Importing GribStubImagePlugin
2025-04-28 18:01:47,121 - PIL.Image - DEBUG - Image.py:409 - Importing Hdf5StubImagePlugin
2025-04-28 18:01:47,122 - PIL.Image - DEBUG - Image.py:409 - Importing IcnsImagePlugin
2025-04-28 18:01:47,125 - PIL.Image - DEBUG - Image.py:409 - Importing IcoImagePlugin
2025-04-28 18:01:47,126 - PIL.Image - DEBUG - Image.py:409 - Importing ImImagePlugin
2025-04-28 18:01:47,129 - PIL.Image - DEBUG - Image.py:409 - Importing ImtImagePlugin
2025-04-28 18:01:47,130 - PIL.Image - DEBUG - Image.py:409 - Importing IptcImagePlugin
2025-04-28 18:01:47,131 - PIL.Image - DEBUG - Image.py:409 - Importing JpegImagePlugin
2025-04-28 18:01:47,131 - PIL.Image - DEBUG - Image.py:409 - Importing Jpeg2KImagePlugin
2025-04-28 18:01:47,131 - PIL.Image - DEBUG - Image.py:409 - Importing McIdasImagePlugin
2025-04-28 18:01:47,132 - PIL.Image - DEBUG - Image.py:409 - Importing MicImagePlugin
2025-04-28 18:01:47,134 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import MicImagePlugin: No module named 'olefile'
2025-04-28 18:01:47,134 - PIL.Image - DEBUG - Image.py:409 - Importing MpegImagePlugin
2025-04-28 18:01:47,135 - PIL.Image - DEBUG - Image.py:409 - Importing MpoImagePlugin
2025-04-28 18:01:47,137 - PIL.Image - DEBUG - Image.py:409 - Importing MspImagePlugin
2025-04-28 18:01:47,138 - PIL.Image - DEBUG - Image.py:409 - Importing PalmImagePlugin
2025-04-28 18:01:47,139 - PIL.Image - DEBUG - Image.py:409 - Importing PcdImagePlugin
2025-04-28 18:01:47,140 - PIL.Image - DEBUG - Image.py:409 - Importing PcxImagePlugin
2025-04-28 18:01:47,140 - PIL.Image - DEBUG - Image.py:409 - Importing PdfImagePlugin
2025-04-28 18:01:47,179 - PIL.Image - DEBUG - Image.py:409 - Importing PixarImagePlugin
2025-04-28 18:01:47,181 - PIL.Image - DEBUG - Image.py:409 - Importing PngImagePlugin
2025-04-28 18:01:47,181 - PIL.Image - DEBUG - Image.py:409 - Importing PpmImagePlugin
2025-04-28 18:01:47,181 - PIL.Image - DEBUG - Image.py:409 - Importing PsdImagePlugin
2025-04-28 18:01:47,182 - PIL.Image - DEBUG - Image.py:409 - Importing QoiImagePlugin
2025-04-28 18:01:47,183 - PIL.Image - DEBUG - Image.py:409 - Importing SgiImagePlugin
2025-04-28 18:01:47,184 - PIL.Image - DEBUG - Image.py:409 - Importing SpiderImagePlugin
2025-04-28 18:01:47,185 - PIL.Image - DEBUG - Image.py:409 - Importing SunImagePlugin
2025-04-28 18:01:47,186 - PIL.Image - DEBUG - Image.py:409 - Importing TgaImagePlugin
2025-04-28 18:01:47,187 - PIL.Image - DEBUG - Image.py:409 - Importing TiffImagePlugin
2025-04-28 18:01:47,187 - PIL.Image - DEBUG - Image.py:409 - Importing WebPImagePlugin
2025-04-28 18:01:47,188 - PIL.Image - DEBUG - Image.py:409 - Importing WmfImagePlugin
2025-04-28 18:01:47,190 - PIL.Image - DEBUG - Image.py:409 - Importing XbmImagePlugin
2025-04-28 18:01:47,192 - PIL.Image - DEBUG - Image.py:409 - Importing XpmImagePlugin
2025-04-28 18:01:47,194 - PIL.Image - DEBUG - Image.py:409 - Importing XVThumbImagePlugin
2025-04-28 18:01:47,216 - docling.document_converter - INFO - document_converter.py:269 - Going to convert document batch...
2025-04-28 18:01:47,216 - docling.document_converter - INFO - document_converter.py:304 - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-28 18:01:47,275 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 18:01:47,276 - docling.models.factories - INFO - __init__.py:16 - Registered ocr engines: ['easyocr', 'ocrmac', 'rapidocr', 'tesserocr', 'tesseract']
2025-04-28 18:01:47,349 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 18:01:49,187 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 18:01:52,319 - docling_ibm_models.layoutmodel.layout_predictor - DEBUG - layout_predictor.py:95 - LayoutPredictor settings: {'safe_tensors_file': 'C:\\Users\\ahmed\\.cache\\huggingface\\hub\\models--ds4sd--docling-models\\snapshots\\36bebf56681740529abd09f5473a93a69373fbf0\\model_artifacts\\layout\\model.safetensors', 'device': 'cuda', 'num_threads': 4, 'image_size': 640, 'threshold': 0.3}
2025-04-28 18:01:52,553 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 18:01:53,114 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 18:01:53,114 - docling.models.factories - INFO - __init__.py:26 - Registered picture descriptions: ['vlm', 'api']
2025-04-28 18:01:53,115 - docling.pipeline.base_pipeline - INFO - base_pipeline.py:38 - Processing document w2_bbf776bd.png
2025-04-28 18:01:57,201 - docling.pipeline.base_pipeline - DEBUG - base_pipeline.py:185 - Finished converting page batch time=173582.250
2025-04-28 18:01:57,205 - docling.document_converter - INFO - document_converter.py:284 - Finished converting document w2_bbf776bd.png in 10.16 sec.
2025-04-28 18:01:57,258 - document_processor.core.classification.classifier - INFO - classifier.py:98 - Document classified as 'W2 (Form W-2)' with confidence 0.50
2025-04-28 18:01:57,258 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 18:01:57,258 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5LMV3\document_processor\uploads\w2_bbf776bd.png
2025-04-28 18:01:57,258 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:141 - Loading document with doctr: A:\DhapWork\1.5LMV3\document_processor\uploads\w2_bbf776bd.png
2025-04-28 19:28:31,170 - __main__ - INFO - main.py:56 - Logging configured
2025-04-28 19:28:31,170 - __main__ - INFO - main.py:96 - Template folder: A:\DhapWork\1.5\document_processor\web\templates
2025-04-28 19:28:31,171 - __main__ - INFO - main.py:97 - Static folder: A:\DhapWork\1.5\document_processor\uploads
2025-04-28 19:28:31,197 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 19:28:31,197 - __main__ - INFO - main.py:102 - Using device: cuda
2025-04-28 19:28:31,350 - document_processor.db.database - INFO - database.py:48 - Database initialized with sqlite:///A:\DhapWork\1.5\document_processor\document_processor.db
2025-04-28 19:28:31,502 - __main__ - DEBUG - main.py:127 - Request: GET /
2025-04-28 19:28:38,793 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 19:28:44,112 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 19:28:44,117 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5\document_processor\uploads\w2_9f3ccaf7.png
2025-04-28 19:28:44,125 - __main__ - DEBUG - main.py:127 - Request: GET /process/w2_9f3ccaf7.png
2025-04-28 19:28:44,125 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 19:28:44,128 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 19:28:47,154 - document_processor.core.classification.classifier - INFO - classifier.py:62 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 19:28:47,154 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 19:28:47,154 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 19:28:47,154 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - Targeted extractor initialized with device: cuda
2025-04-28 19:28:47,154 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:117 - Initializing doctr OCR model
2025-04-28 19:28:47,590 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 19:28:48,760 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 19:28:48,855 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:126 - doctr OCR model initialized successfully
2025-04-28 19:28:48,856 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 19:28:48,856 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5\document_processor\uploads\w2_9f3ccaf7.png using targeted mode
2025-04-28 19:28:48,856 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 19:28:48,856 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5\document_processor\uploads\w2_9f3ccaf7.png
2025-04-28 19:28:48,856 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 19:28:48,857 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.png', '.jpg', '.jpeg', '.tiff', '.tif']
2025-04-28 19:28:48,857 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5\document_processor\uploads\w2_9f3ccaf7.png
2025-04-28 19:28:52,721 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IHDR' 16 13
2025-04-28 19:28:52,721 - PIL.PngImagePlugin - DEBUG - PngImagePlugin.py:197 - STREAM b'IDAT' 41 65536
2025-04-28 19:28:52,729 - PIL.Image - DEBUG - Image.py:409 - Importing BlpImagePlugin
2025-04-28 19:28:52,731 - PIL.Image - DEBUG - Image.py:409 - Importing BmpImagePlugin
2025-04-28 19:28:52,731 - PIL.Image - DEBUG - Image.py:409 - Importing BufrStubImagePlugin
2025-04-28 19:28:52,731 - PIL.Image - DEBUG - Image.py:409 - Importing CurImagePlugin
2025-04-28 19:28:52,732 - PIL.Image - DEBUG - Image.py:409 - Importing DcxImagePlugin
2025-04-28 19:28:52,733 - PIL.Image - DEBUG - Image.py:409 - Importing DdsImagePlugin
2025-04-28 19:28:52,735 - PIL.Image - DEBUG - Image.py:409 - Importing EpsImagePlugin
2025-04-28 19:28:52,737 - PIL.Image - DEBUG - Image.py:409 - Importing FitsImagePlugin
2025-04-28 19:28:52,738 - PIL.Image - DEBUG - Image.py:409 - Importing FliImagePlugin
2025-04-28 19:28:52,738 - PIL.Image - DEBUG - Image.py:409 - Importing FpxImagePlugin
2025-04-28 19:28:52,739 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import FpxImagePlugin: No module named 'olefile'
2025-04-28 19:28:52,739 - PIL.Image - DEBUG - Image.py:409 - Importing FtexImagePlugin
2025-04-28 19:28:52,740 - PIL.Image - DEBUG - Image.py:409 - Importing GbrImagePlugin
2025-04-28 19:28:52,741 - PIL.Image - DEBUG - Image.py:409 - Importing GifImagePlugin
2025-04-28 19:28:52,741 - PIL.Image - DEBUG - Image.py:409 - Importing GribStubImagePlugin
2025-04-28 19:28:52,741 - PIL.Image - DEBUG - Image.py:409 - Importing Hdf5StubImagePlugin
2025-04-28 19:28:52,742 - PIL.Image - DEBUG - Image.py:409 - Importing IcnsImagePlugin
2025-04-28 19:28:52,743 - PIL.Image - DEBUG - Image.py:409 - Importing IcoImagePlugin
2025-04-28 19:28:52,744 - PIL.Image - DEBUG - Image.py:409 - Importing ImImagePlugin
2025-04-28 19:28:52,745 - PIL.Image - DEBUG - Image.py:409 - Importing ImtImagePlugin
2025-04-28 19:28:52,747 - PIL.Image - DEBUG - Image.py:409 - Importing IptcImagePlugin
2025-04-28 19:28:52,747 - PIL.Image - DEBUG - Image.py:409 - Importing JpegImagePlugin
2025-04-28 19:28:52,747 - PIL.Image - DEBUG - Image.py:409 - Importing Jpeg2KImagePlugin
2025-04-28 19:28:52,747 - PIL.Image - DEBUG - Image.py:409 - Importing McIdasImagePlugin
2025-04-28 19:28:52,748 - PIL.Image - DEBUG - Image.py:409 - Importing MicImagePlugin
2025-04-28 19:28:52,749 - PIL.Image - DEBUG - Image.py:412 - Image: failed to import MicImagePlugin: No module named 'olefile'
2025-04-28 19:28:52,749 - PIL.Image - DEBUG - Image.py:409 - Importing MpegImagePlugin
2025-04-28 19:28:52,750 - PIL.Image - DEBUG - Image.py:409 - Importing MpoImagePlugin
2025-04-28 19:28:52,751 - PIL.Image - DEBUG - Image.py:409 - Importing MspImagePlugin
2025-04-28 19:28:52,752 - PIL.Image - DEBUG - Image.py:409 - Importing PalmImagePlugin
2025-04-28 19:28:52,753 - PIL.Image - DEBUG - Image.py:409 - Importing PcdImagePlugin
2025-04-28 19:28:52,753 - PIL.Image - DEBUG - Image.py:409 - Importing PcxImagePlugin
2025-04-28 19:28:52,754 - PIL.Image - DEBUG - Image.py:409 - Importing PdfImagePlugin
2025-04-28 19:28:52,773 - PIL.Image - DEBUG - Image.py:409 - Importing PixarImagePlugin
2025-04-28 19:28:52,774 - PIL.Image - DEBUG - Image.py:409 - Importing PngImagePlugin
2025-04-28 19:28:52,774 - PIL.Image - DEBUG - Image.py:409 - Importing PpmImagePlugin
2025-04-28 19:28:52,774 - PIL.Image - DEBUG - Image.py:409 - Importing PsdImagePlugin
2025-04-28 19:28:52,775 - PIL.Image - DEBUG - Image.py:409 - Importing QoiImagePlugin
2025-04-28 19:28:52,776 - PIL.Image - DEBUG - Image.py:409 - Importing SgiImagePlugin
2025-04-28 19:28:52,777 - PIL.Image - DEBUG - Image.py:409 - Importing SpiderImagePlugin
2025-04-28 19:28:52,778 - PIL.Image - DEBUG - Image.py:409 - Importing SunImagePlugin
2025-04-28 19:28:52,779 - PIL.Image - DEBUG - Image.py:409 - Importing TgaImagePlugin
2025-04-28 19:28:52,779 - PIL.Image - DEBUG - Image.py:409 - Importing TiffImagePlugin
2025-04-28 19:28:52,779 - PIL.Image - DEBUG - Image.py:409 - Importing WebPImagePlugin
2025-04-28 19:28:52,825 - PIL.Image - DEBUG - Image.py:409 - Importing WmfImagePlugin
2025-04-28 19:28:52,826 - PIL.Image - DEBUG - Image.py:409 - Importing XbmImagePlugin
2025-04-28 19:28:52,830 - PIL.Image - DEBUG - Image.py:409 - Importing XpmImagePlugin
2025-04-28 19:28:52,831 - PIL.Image - DEBUG - Image.py:409 - Importing XVThumbImagePlugin
2025-04-28 19:28:55,188 - docling.document_converter - INFO - document_converter.py:269 - Going to convert document batch...
2025-04-28 19:28:55,188 - docling.document_converter - INFO - document_converter.py:304 - Initializing pipeline for StandardPdfPipeline with options hash 3d2abd0e021741887551c73bd132b421
2025-04-28 19:28:55,226 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 19:28:55,227 - docling.models.factories - INFO - __init__.py:16 - Registered ocr engines: ['easyocr', 'ocrmac', 'rapidocr', 'tesserocr', 'tesseract']
2025-04-28 19:28:55,482 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 19:28:56,982 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 19:29:00,853 - docling_ibm_models.layoutmodel.layout_predictor - DEBUG - layout_predictor.py:95 - LayoutPredictor settings: {'safe_tensors_file': 'C:\\Users\\ahmed\\.cache\\huggingface\\hub\\models--ds4sd--docling-models\\snapshots\\36bebf56681740529abd09f5473a93a69373fbf0\\model_artifacts\\layout\\model.safetensors', 'device': 'cuda', 'num_threads': 4, 'image_size': 640, 'threshold': 0.3}
2025-04-28 19:29:01,059 - docling.utils.accelerator_utils - INFO - accelerator_utils.py:67 - Accelerator device: 'cuda:0'
2025-04-28 19:29:01,742 - docling.models.factories.base_factory - INFO - base_factory.py:112 - Loading plugin 'docling_defaults'
2025-04-28 19:29:01,742 - docling.models.factories - INFO - __init__.py:26 - Registered picture descriptions: ['vlm', 'api']
2025-04-28 19:29:01,743 - docling.pipeline.base_pipeline - INFO - base_pipeline.py:38 - Processing document w2_9f3ccaf7.png
2025-04-28 19:29:05,877 - docling.pipeline.base_pipeline - DEBUG - base_pipeline.py:185 - Finished converting page batch time=178810.921
2025-04-28 19:29:05,881 - docling.document_converter - INFO - document_converter.py:284 - Finished converting document w2_9f3ccaf7.png in 13.22 sec.
2025-04-28 19:29:05,931 - document_processor.core.classification.classifier - INFO - classifier.py:98 - Document classified as 'W2 (Form W-2)' with confidence 0.50
2025-04-28 19:29:05,931 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .png against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 19:29:05,931 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5\document_processor\uploads\w2_9f3ccaf7.png
2025-04-28 19:29:05,931 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:156 - Loading document with doctr: A:\DhapWork\1.5\document_processor\uploads\w2_9f3ccaf7.png
2025-04-28 19:29:06,371 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 1/1 ---
2025-04-28 19:29:06,371 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'employee's name	' for field 	'employee_name	'
2025-04-28 19:29:06,371 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'employee name	' for field 	'employee_name	'
2025-04-28 19:29:06,371 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'employee's ssn	' for field 	'employee_ssn	'
2025-04-28 19:29:06,371 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'social security number	' for field 	'employee_ssn	'
2025-04-28 19:29:06,371 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'social security number'
2025-04-28 19:29:06,371 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"11-2233445	" for field 	"employee_ssn	"
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'employer's name	' for field 	'employer_name	'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'employer's name'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	", address, and ZIP code 3 Social security wages 4 Social security tax withheld 50,000.00 3,100.00 The Big Company 5 Medicare wages and tips Medicare tax withheld 123 Main Street 50,000.00 725.00 Anywhere, PA 12345 7 Social security tips 8 Allocated tips d Control number 9 10 Dependent care benefits A1B2 e Employee's first name and initial Last name Suff. 11 Nonquaimied plans 12a See instructions for box 12 e Jane A DOE e 1,500.00 13 Statutory Retirement Third-party 12b 123 Elm Street employee plan sick pay C DD 1,000.00 Anywhere Else, PA 23456 14 Other 12c D : P 4,800.00 12d D f Employee's address and ZIP code 15 State Employer's state ID number 16 State wages, tips, etc. 17 State income tax 18 Local wages, tips, etc. 19 Local income tax 20 Locality name PAI 1235 50,000 1,535 50,000 750 MU Wage and Tax Department of the Treasury- Internal Revenue Service Statement W-2 Form 2014 Copy B-To Be Filed With Employee's FEDERAL Tax Return. This information is being furnished to the Internal Revenue Service.	" for field 	"employer_name	"
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'employer identification number	' for field 	'employer_ein	'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'employer identification number'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"11-2233445	" for field 	"employer_ein	"
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'wages, tips, other compensation	' for field 	'wages	'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'wages, tips, other compensation'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"2 Federal income tax withheld 11-2233445 48,500	" for field 	"wages	"
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'federal income tax withheld	' for field 	'federal_tax	'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'federal income tax withheld'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"11-2233445 48,500	" for field 	"federal_tax	"
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'social security wages	' for field 	'social_security_wages	'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'social security wages'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"4 Social security tax withheld 50,000	" for field 	"social_security_wages	"
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'social security tax withheld	' for field 	'social_security_tax	'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'social security tax withheld'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"50,000	" for field 	"social_security_tax	"
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'medicare wages and tips	' for field 	'medicare_wages	'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'medicare wages and tips'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"Medicare tax withheld 123 Main Street 50,000	" for field 	"medicare_wages	"
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'medicare tax withheld	' for field 	'medicare_tax	'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'medicare tax withheld'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"123 Main Street 50,000	" for field 	"medicare_tax	"
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'state wages	' for field 	'state_wages	'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'state wages'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	", tips, etc	" for field 	"state_wages	"
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'state income tax	' for field 	'state_tax	'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'state income tax'
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"18 Local wages, tips, etc	" for field 	"state_tax	"
2025-04-28 19:29:06,372 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'tax year	' for field 	'tax_year	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'year	' for field 	'tax_year	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'20	' for field 	'tax_year	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'20'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"a Employee's social security number Safe, accurate, Visit the IRS website at 123-45-6789 OMB No. 154..."
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"Locality name PAI 1235 50,000 1,535 50,000 750 MU 	" for field 	"tax_year	"
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 1/1 ---
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'date:	' for field 	'date	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'dated:	' for field 	'date	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'as of:	' for field 	'date	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total:	' for field 	'total	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total amount:	' for field 	'total	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'sum:	' for field 	'total	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'balance:	' for field 	'total	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account:	' for field 	'account_number	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account no:	' for field 	'account_number	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account number:	' for field 	'account_number	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ref:	' for field 	'reference	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference:	' for field 	'reference	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference no:	' for field 	'reference	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'amount:	' for field 	'amount	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'payment:	' for field 	'amount	'
2025-04-28 19:29:06,373 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'fee:	' for field 	'amount	'
2025-04-28 19:29:17,751 - __main__ - DEBUG - main.py:127 - Request: GET /upload
2025-04-28 19:29:25,177 - __main__ - DEBUG - main.py:127 - Request: POST /upload
2025-04-28 19:29:25,188 - document_processor.web.views - INFO - views.py:87 - File uploaded: A:\DhapWork\1.5\document_processor\uploads\K-1-Web-Example-1742412925169_96cfbdf0.pdf
2025-04-28 19:29:25,196 - __main__ - DEBUG - main.py:127 - Request: GET /process/K-1-Web-Example-1742412925169_96cfbdf0.pdf
2025-04-28 19:29:25,196 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 19:29:25,200 - sentence_transformers.SentenceTransformer - INFO - SentenceTransformer.py:216 - Load pretrained SentenceTransformer: all-MiniLM-L6-v2
2025-04-28 19:29:28,202 - document_processor.core.classification.classifier - INFO - classifier.py:62 - Document classifier initialized with model: all-MiniLM-L6-v2
2025-04-28 19:29:28,202 - document_processor.core.information.financial_extractor - INFO - financial_extractor.py:16 - Financial entity extractor initialized
2025-04-28 19:29:28,202 - document_processor.utils.gpu_utils - INFO - gpu_utils.py:21 - GPU detected: NVIDIA GeForce RTX 3070 Ti Laptop GPU
2025-04-28 19:29:28,202 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:111 - Targeted extractor initialized with device: cuda
2025-04-28 19:29:28,202 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:117 - Initializing doctr OCR model
2025-04-28 19:29:28,593 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\db_resnet50-79bd7d70.pt
2025-04-28 19:29:29,943 - root - INFO - data.py:88 - Using downloaded & verified file: C:\Users\ahmed\.cache\doctr\models\crnn_vgg16_bn-9762b0b0.pt
2025-04-28 19:29:30,059 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:126 - doctr OCR model initialized successfully
2025-04-28 19:29:30,060 - document_processor.core.processor_service - INFO - processor_service.py:48 - Document processor service initialized
2025-04-28 19:29:30,060 - document_processor.core.processor_service - INFO - processor_service.py:62 - Processing document A:\DhapWork\1.5\document_processor\uploads\K-1-Web-Example-1742412925169_96cfbdf0.pdf using targeted mode
2025-04-28 19:29:30,060 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 19:29:30,060 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5\document_processor\uploads\K-1-Web-Example-1742412925169_96cfbdf0.pdf
2025-04-28 19:29:30,060 - document_processor.core.extraction.text_extractor - INFO - text_extractor.py:24 - Text extractor initialized
2025-04-28 19:29:30,060 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf']
2025-04-28 19:29:30,061 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5\document_processor\uploads\K-1-Web-Example-1742412925169_96cfbdf0.pdf
2025-04-28 19:29:32,686 - document_processor.core.classification.classifier - INFO - classifier.py:98 - Document classified as 'K1 (Schedule K-1)' with confidence 0.42
2025-04-28 19:29:32,686 - document_processor.utils.validation - DEBUG - validation.py:46 - Validating file extension: .pdf against allowed: ['.pdf', '.jpg', '.jpeg', '.png', '.tiff']
2025-04-28 19:29:32,686 - document_processor.utils.validation - DEBUG - validation.py:57 - File validation successful for A:\DhapWork\1.5\document_processor\uploads\K-1-Web-Example-1742412925169_96cfbdf0.pdf
2025-04-28 19:29:32,686 - document_processor.core.extraction.targeted_extractor - INFO - targeted_extractor.py:156 - Loading document with doctr: A:\DhapWork\1.5\document_processor\uploads\K-1-Web-Example-1742412925169_96cfbdf0.pdf
2025-04-28 19:29:36,073 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 1/7 ---
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's name	' for field 	'partner_name	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner name	' for field 	'partner_name	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's address	' for field 	'partner_address	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'address	' for field 	'partner_address	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ein	' for field 	'ein	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'employer identification number	' for field 	'ein	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ordinary business income	' for field 	'ordinary_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ordinary income	' for field 	'ordinary_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'net income	' for field 	'ordinary_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'interest income	' for field 	'interest_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'portfolio interest	' for field 	'interest_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'dividend	' for field 	'dividend_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'qualified dividends	' for field 	'dividend_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'royalty	' for field 	'royalty_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'royalties	' for field 	'royalty_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'capital gain	' for field 	'capital_gain	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'net short-term capital gain	' for field 	'capital_gain	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'net long-term capital gain	' for field 	'capital_gain	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'tax year	' for field 	'tax_year	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'taxable year	' for field 	'tax_year	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 2/7 ---
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's name	' for field 	'partner_name	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner name	' for field 	'partner_name	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's address	' for field 	'partner_address	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'address	' for field 	'partner_address	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ein	' for field 	'ein	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'employer identification number	' for field 	'ein	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ordinary business income	' for field 	'ordinary_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ordinary income	' for field 	'ordinary_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'net income	' for field 	'ordinary_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'interest income	' for field 	'interest_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'portfolio interest	' for field 	'interest_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'dividend	' for field 	'dividend_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'qualified dividends	' for field 	'dividend_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'royalty	' for field 	'royalty_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'royalties	' for field 	'royalty_income	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'capital gain	' for field 	'capital_gain	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'net short-term capital gain	' for field 	'capital_gain	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'net long-term capital gain	' for field 	'capital_gain	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'tax year	' for field 	'tax_year	'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'tax year'
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"LIFE PARTNERS POSITION HOLDERS TRUST 2001 BRYAN STREET, SUITE 1800 DALLAS, TEXAS 75201 (214)560-5404..."
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"2019	" for field 	"tax_year	"
2025-04-28 19:29:36,074 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 3/7 ---
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's name	' for field 	'partner_name	'
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner name	' for field 	'partner_name	'
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's address	' for field 	'partner_address	'
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'address	' for field 	'partner_address	'
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'address'
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"Schedule K-1 Finall K-1 Amended K-1 OMB No. 1545-0123 (Form 1065) 2019 Department oft the Treasury P..."
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:332 -         Could not extract value for field 	"partner_address	" from keyword 	"address	"
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ein	' for field 	'ein	'
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'employer identification number	' for field 	'ein	'
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'employer identification number'
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"Schedule K-1 Finall K-1 Amended K-1 OMB No. 1545-0123 (Form 1065) 2019 Department oft the Treasury P..."
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"81-4644966	" for field 	"ein	"
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ordinary business income	' for field 	'ordinary_income	'
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'ordinary business income'
2025-04-28 19:29:36,075 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"Schedule K-1 Finall K-1 Amended K-1 OMB No. 1545-0123 (Form 1065) 2019 Department oft the Treasury P..."
2025-04-28 19:29:36,076 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"15	" for field 	"ordinary_income	"
2025-04-28 19:29:36,076 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'interest income	' for field 	'interest_income	'
2025-04-28 19:29:36,076 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'interest income'
2025-04-28 19:29:36,076 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"Schedule K-1 Finall K-1 Amended K-1 OMB No. 1545-0123 (Form 1065) 2019 Department oft the Treasury P..."
2025-04-28 19:29:36,076 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"22.	" for field 	"interest_income	"
2025-04-28 19:29:36,076 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'dividend	' for field 	'dividend_income	'
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'dividend'
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"Schedule K-1 Finall K-1 Amended K-1 OMB No. 1545-0123 (Form 1065) 2019 Department oft the Treasury P..."
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"2.	" for field 	"dividend_income	"
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'royalty	' for field 	'royalty_income	'
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'royalties	' for field 	'royalty_income	'
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'royalties'
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"Schedule K-1 Finall K-1 Amended K-1 OMB No. 1545-0123 (Form 1065) 2019 Department oft the Treasury P..."
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"19	" for field 	"royalty_income	"
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'capital gain	' for field 	'capital_gain	'
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:313 -     Found 1 block(s) matching keyword 	'capital gain'
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:318 -       Best match block text: 	"Schedule K-1 Finall K-1 Amended K-1 OMB No. 1545-0123 (Form 1065) 2019 Department oft the Treasury P..."
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:328 -         Extracted value 	"(loss) member-manager member 20 Otheri information	" for field 	"capital_gain	"
2025-04-28 19:29:36,077 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 4/7 ---
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's name	' for field 	'partner_name	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner name	' for field 	'partner_name	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's address	' for field 	'partner_address	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'address	' for field 	'partner_address	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 5/7 ---
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's name	' for field 	'partner_name	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner name	' for field 	'partner_name	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's address	' for field 	'partner_address	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'address	' for field 	'partner_address	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 6/7 ---
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's name	' for field 	'partner_name	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner name	' for field 	'partner_name	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's address	' for field 	'partner_address	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'address	' for field 	'partner_address	'
2025-04-28 19:29:36,078 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 7/7 ---
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's name	' for field 	'partner_name	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner name	' for field 	'partner_name	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'partner's address	' for field 	'partner_address	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'address	' for field 	'partner_address	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 1/7 ---
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'date:	' for field 	'date	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'dated:	' for field 	'date	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'as of:	' for field 	'date	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total:	' for field 	'total	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total amount:	' for field 	'total	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'sum:	' for field 	'total	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'balance:	' for field 	'total	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account:	' for field 	'account_number	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account no:	' for field 	'account_number	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account number:	' for field 	'account_number	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ref:	' for field 	'reference	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference:	' for field 	'reference	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference no:	' for field 	'reference	'
2025-04-28 19:29:36,079 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'amount:	' for field 	'amount	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'payment:	' for field 	'amount	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'fee:	' for field 	'amount	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 2/7 ---
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'date:	' for field 	'date	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'dated:	' for field 	'date	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'as of:	' for field 	'date	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total:	' for field 	'total	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total amount:	' for field 	'total	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'sum:	' for field 	'total	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'balance:	' for field 	'total	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account:	' for field 	'account_number	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account no:	' for field 	'account_number	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account number:	' for field 	'account_number	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ref:	' for field 	'reference	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference:	' for field 	'reference	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference no:	' for field 	'reference	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'amount:	' for field 	'amount	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'payment:	' for field 	'amount	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'fee:	' for field 	'amount	'
2025-04-28 19:29:36,080 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 3/7 ---
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'date:	' for field 	'date	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'dated:	' for field 	'date	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'as of:	' for field 	'date	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total:	' for field 	'total	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total amount:	' for field 	'total	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'sum:	' for field 	'total	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'balance:	' for field 	'total	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account:	' for field 	'account_number	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account no:	' for field 	'account_number	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account number:	' for field 	'account_number	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ref:	' for field 	'reference	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference:	' for field 	'reference	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference no:	' for field 	'reference	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'amount:	' for field 	'amount	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'payment:	' for field 	'amount	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'fee:	' for field 	'amount	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 4/7 ---
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'date:	' for field 	'date	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'dated:	' for field 	'date	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'as of:	' for field 	'date	'
2025-04-28 19:29:36,081 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total:	' for field 	'total	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total amount:	' for field 	'total	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'sum:	' for field 	'total	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'balance:	' for field 	'total	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account:	' for field 	'account_number	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account no:	' for field 	'account_number	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account number:	' for field 	'account_number	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ref:	' for field 	'reference	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference:	' for field 	'reference	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference no:	' for field 	'reference	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'amount:	' for field 	'amount	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'payment:	' for field 	'amount	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'fee:	' for field 	'amount	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 5/7 ---
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'date:	' for field 	'date	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'dated:	' for field 	'date	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'as of:	' for field 	'date	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total:	' for field 	'total	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total amount:	' for field 	'total	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'sum:	' for field 	'total	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'balance:	' for field 	'total	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account:	' for field 	'account_number	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account no:	' for field 	'account_number	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account number:	' for field 	'account_number	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ref:	' for field 	'reference	'
2025-04-28 19:29:36,082 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference:	' for field 	'reference	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference no:	' for field 	'reference	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'amount:	' for field 	'amount	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'payment:	' for field 	'amount	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'fee:	' for field 	'amount	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 6/7 ---
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'date:	' for field 	'date	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'dated:	' for field 	'date	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'as of:	' for field 	'date	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total:	' for field 	'total	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total amount:	' for field 	'total	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'sum:	' for field 	'total	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'balance:	' for field 	'total	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account:	' for field 	'account_number	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account no:	' for field 	'account_number	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account number:	' for field 	'account_number	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ref:	' for field 	'reference	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference:	' for field 	'reference	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference no:	' for field 	'reference	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'amount:	' for field 	'amount	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'payment:	' for field 	'amount	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'fee:	' for field 	'amount	'
2025-04-28 19:29:36,083 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:265 - --- Processing Page 7/7 ---
2025-04-28 19:29:36,084 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'date:	' for field 	'date	'
2025-04-28 19:29:36,084 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'dated:	' for field 	'date	'
2025-04-28 19:29:36,084 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'as of:	' for field 	'date	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total:	' for field 	'total	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'total amount:	' for field 	'total	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'sum:	' for field 	'total	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'balance:	' for field 	'total	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account:	' for field 	'account_number	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account no:	' for field 	'account_number	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'account number:	' for field 	'account_number	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'ref:	' for field 	'reference	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference:	' for field 	'reference	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'reference no:	' for field 	'reference	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'amount:	' for field 	'amount	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'payment:	' for field 	'amount	'
2025-04-28 19:29:36,085 - document_processor.core.extraction.targeted_extractor - DEBUG - targeted_extractor.py:309 -   Searching for keyword 	'fee:	' for field 	'amount	'
